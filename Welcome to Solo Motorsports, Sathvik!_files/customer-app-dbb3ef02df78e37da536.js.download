/*! For license information please see customer-app-dbb3ef02df78e37da536.js.LICENSE.txt */
"use strict";(self.webpackChunkshop_ware_development=self.webpackChunkshop_ware_development||[]).push([[864],{28392:function(e,t,r){var n,i=r(67294);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",fill:"currentcolor"},e),n||(n=i.createElement("path",{d:"M371.515 229.055L219.516 373.033C211.797 380.344 201.891 384 192 384s-19.797-3.656-27.516-10.967L12.485 229.055c-16.031-15.185-16.718-40.494-1.515-56.523 15.187-16.06 40.515-16.747 56.546-1.531L192 288.921l124.484-117.92c16.015-15.247 41.343-14.56 56.546 1.531 15.203 16.029 14.516 41.338-1.515 56.523z"})))}},14926:function(e,t,r){r.d(t,{r:function(){return i}});var n=r(68247),i=function(e){return(0,n.ZP)("/api/internal/vehicles/"+e).then((function(e){return e.data}))}},19004:function(e,t,r){r.d(t,{w:function(){return i}});var n=r(68247),i=function(e){return(0,n.ZP)("/api/internal/work_orders/"+e).then((function(e){return e.data}))}},38008:function(e,t,r){var n=r(73935),i=r(39711),a=r(96974),o=r(65163),s=r(67294),c=r(97183),l=r(71230),u=r(15746),d=r(22424),h=r(19004),p=r(85893),f=(0,s.createContext)();function v(e){var t=(0,a.UO)().workOrderId,r=(0,d.Z)((function(){return h.w(t)})),n=r[0],i=r[1].clientUpdate;return(0,p.jsx)(f.Provider,{value:[n,{updateWorkOrder:function(e){i({approved_at:e.created_at})}}],children:e.children})}function m(){var e=(0,s.useContext)(f);if(void 0===e)throw new Error("useWorkOrder must be used within a WorkOrderProvider");return e}var x=r(68247),j=function(e,t){return e.row_order-t.row_order},g=function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/work_order_services").then((function(e){return function(e){var t=["hazmats","inspections","labors","parts","sublets"];return e.forEach((function(e){t.forEach((function(t){e[t].sort(j)}))})),e.sort(j)}(e.data)}))},y=(0,s.createContext)();function w(e){var t=(0,a.UO)().workOrderId,r=(0,d.Z)((function(){return g(t)}))[0];return(0,p.jsx)(y.Provider,{value:r,children:e.children})}var b=(0,s.createContext)(),Z=r(23404),_=function(e){return x.ZP.post("/remote_payment_transactions",e)},k=function(e){return(0,x.ZP)("/work_orders/"+e+"/print.pdf").then((function(e){return e.data}))};var P=function(e){var t=(0,a.UO)().workOrderId,r=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/work_orders/"+e).then((function(e){return e.data}))}(t)})),n=r[0].data;return n?(0,p.jsx)(b.Provider,{value:n,children:e.children}):(0,p.jsx)(Z.Z,{})};function O(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=[],T=function(e){return null===e.approved&&null!==e.in_cart_approved},C=function(e){return null===e.approved},N=function(e){return T(e)&&e.in_cart_approved},I=function(e){return T(e)&&!1===e.in_cart_approved},S=function(e){return C(e)&&null===e.in_cart_approved},R=function(){throw"You are trying to use an instance method without specifying the instance. E.g. use `state.anyPendingRecs()` instead of `anyPendingRecs()`"},z=function(){function e(e){this.inCartRecommendations=[],this.inCartApprovedRecommendations=[],this.inCartDeclinedRecommendations=[],this.unapprovedRecommendations=[],this.pendingRecommendations=[],this.loading=e.loading,this.error=e.error,this.data=e.data||E;for(var t,r=O(this.data);!(t=r()).done;){var n=t.value;T(n)&&this.inCartRecommendations.push(n),N(n)&&this.inCartApprovedRecommendations.push(n),I(n)&&this.inCartDeclinedRecommendations.push(n),C(n)&&this.unapprovedRecommendations.push(n),S(n)&&this.pendingRecommendations.push(n)}}var t=e.prototype;return t.anyUnapprovedRecs=function(){return this||R(),Boolean(this.unapprovedRecommendations.length)},t.everyRecsInCart=function(){return this||R(),this.inCartRecommendations.length===this.unapprovedRecommendations.length},t.anyRecsInCart=function(){return this||R(),Boolean(this.inCartRecommendations.length)},t.anyApprovedRecsInCart=function(){return this||R(),Boolean(this.inCartApprovedRecommendations.length)},t.anyPendingRecs=function(){return this||R(),Boolean(this.pendingRecommendations.length)},e}(),A=(0,s.createContext)(),B=(0,s.createContext)(),U=function(e,t,r){return r.data.map((function(r){return r.id!==e||(r.in_cart_approved=t),r}))};function M(e){var t=(0,a.UO)().workOrderId,r=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/recommendations").then((function(e){return e.data}))}(t)})),n=r[0],i=r[1],o=i.execute,s=i.clientUpdate,c=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/past_recommendations").then((function(e){return e.data}))}(t)})),l=c[0],u=c[1],h=u.execute,f=u.clientUpdate,v=function(e){var t=e.id,r=e.approved;if("Recommendation"===e.type){var i=U(t,r,n);s(i)}else{var a=U(t,r,l);f(a)}},m=[new z(n),{fetchRecommendations:o,addRecommendationToCart:v}],j=[new z(l),{fetchPastRecommendations:h,addRecommendationToCart:v}];return(0,p.jsx)(A.Provider,{value:m,children:(0,p.jsx)(B.Provider,{value:j,children:e.children})})}function F(){var e=(0,s.useContext)(A);if(void 0===e)throw new Error("useRecommendations must be used within a RecommendationsProvider");return e}function G(){var e=(0,s.useContext)(B);if(void 0===e)throw new Error("usePastRecommendations must be used within a RecommendationsProvider");return e}var H=(0,s.createContext)();function q(e){var t=(0,a.UO)().workOrderId,r=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/cart").then((function(e){return e.data}))}(t)})),n=r[0],i=r[1],o=i.clientUpdate,s=i.execute;return(0,p.jsx)(H.Provider,{value:[n,{updateTotals:o,fetchTotals:s}],children:e.children})}function W(){var e=(0,s.useContext)(H);if(void 0===e)throw new Error("useTotals must be used within a TotalsProvider");return e}var $=r(75302),V=$.ZP.useBreakpoint,D=(0,s.createContext)(),Y="REVIEW_RECS",Q="NAVIGATE_APPROVE_RO",K="APPROVE_ESTIMATE";function X(e,t){switch(t.type){case"above_reviews":return{action:Y};case"intersecting_approval_area":return{action:K};case"not_intersecting_approval_area":return e.action===K?{action:Q}:e;default:return{action:Q}}}function J(e){var t=(0,s.useReducer)(X,{action:Q}),r=t[0],n=t[1],i=V(),a=(0,s.useRef)(null),o=(0,s.useRef)(null),c={rootMargin:"0px 0px -100px 0px"},l=(0,s.useCallback)((function(e){e&&d(e)}),[]),u=(0,s.useCallback)((function(e){e&&h(e)}),[]);(0,s.useEffect)((function(){return function(){var e,t;null!=(e=a.current)&&e.observer&&a.current.observer.unobserve(a.current.element),null!=(t=o.current)&&t.observer&&o.current.observer.unobserve(o.current.element)}}),[]);var d=function(e){if(!i.lg){var t=new IntersectionObserver((function(e){return e[0].boundingClientRect.top>0&&!e[0].isIntersecting?n({type:"above_reviews"}):e[0].isIntersecting?n({type:"intersecting_reviews"}):void 0}),c);t.observe(e),a.current={observer:t,element:e}}},h=function(e){if(!i.lg){var t=new IntersectionObserver((function(e){return e[0].isIntersecting?n({type:"intersecting_approval_area"}):n({type:"not_intersecting_approval_area"})}),c);t.observe(e),o.current={observer:t,element:e}}};return(0,p.jsx)(D.Provider,{value:{state:r,reviewRecsRef:l,approvalAreaRef:u},children:e.children})}function ee(){var e=(0,s.useContext)(D);if(void 0===e)throw new Error("useMobileActionButton must be used within a MobileActionButtonProvider");return e}var te=function(){return(0,x.ZP)("/api/internal/terms_of_service").then((function(e){return e.data}))},re=r(46492),ne="LEhcBl8d48F7gbY_z5GL",ie=(0,s.createContext)();function ae(e){var t=e.children,r=(0,re.W)().currentShop,n=(0,d.Z)(te)[0];return n.tos=(0,s.useMemo)((function(){return function(e,t){if(!e)return null;var r=e.tos.split("_SIG_");return r.map((function(e,n){var i=r.length-1===n;return(0,p.jsxs)(s.Fragment,{children:[e,!i&&t&&(0,p.jsx)("img",{className:ne,src:t})]},e)}))}(n.data,r.manager_signature_url)}),[n.data,r.manager_signature_url]),(0,p.jsx)(ie.Provider,{value:n,children:t})}function oe(){var e=(0,s.useContext)(ie);if(void 0===e)throw new Error("useTos must be used within a TosProvider");return e}var se=r(93776),ce=r.n(se),le=r(86835),ue=(r(31972),r(39602)),de=r(11382),he=r(79508),pe=r(10402),fe=r(32787),ve="DbotY9GjIdVHNxQfNLBQ",me=function(e){var t=e.title,r=e.children;return(0,p.jsx)("div",{className:ve,children:(0,p.jsxs)(l.Z,{gutter:48,children:[(0,p.jsx)(u.Z,{xs:24,md:8,children:(0,p.jsx)(ue.Z.Title,{level:4,children:t})}),(0,p.jsx)(u.Z,{xs:24,md:16,children:r})]})})},xe=r(2924),je=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","WA","WV","WI","WY","VA"];function ge(e){return(0,p.jsx)(xe.Z,Object.assign({showSearch:!0},e,{children:je.map((function(e){return(0,p.jsx)(xe.Z.Option,{value:e,children:e},e)}))}))}var ye=r(26793),we=function(){var e=(0,ye.$)().t;return(0,p.jsxs)(me,{title:e("checkout.billing_information.title"),children:[(0,p.jsx)(le.Z.Item,{label:e("checkout.billing_information.street_address"),name:"address",rules:[{required:!0,message:e("checkout.billing_information.street_address_error")}],children:(0,p.jsx)(fe.Z,{name:"address",autoComplete:"billing street-address"})}),(0,p.jsx)(le.Z.Item,{label:e("checkout.billing_information.city"),name:"city",rules:[{required:!0,message:e("checkout.billing_information.city_error")}],children:(0,p.jsx)(fe.Z,{name:"city",autoComplete:"billing address-level2"})}),(0,p.jsxs)(l.Z,{justify:"space-between",gutter:{xs:16,sm:24},children:[(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{label:e("checkout.billing_information.state"),name:"state",rules:[{required:!0,message:e("checkout.billing_information.state_error")}],children:(0,p.jsx)(ge,{})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{label:e("checkout.billing_information.zip"),name:"zip",rules:[{required:!0,message:e("checkout.billing_information.zip_error")}],children:(0,p.jsx)(fe.Z,{name:"zip",autoComplete:"billing postal-code"})})})]})]})},be=function(){var e=(0,ye.$)().t;return(0,p.jsxs)(me,{title:e("checkout.payment_information.title"),children:[(0,p.jsxs)(l.Z,{justify:"space-between",gutter:{xs:16,sm:24},children:[(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{id:"fname",label:e("checkout.payment_information.first_name"),name:"fname",rules:[{required:!0,message:e("checkout.payment_information.first_name_error")}],children:(0,p.jsx)(fe.Z,{autoComplete:"given-name",name:"fname"})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{id:"lname",label:e("checkout.payment_information.last_name"),name:"lname",rules:[{required:!0,message:e("checkout.payment_information.last_name_error")}],children:(0,p.jsx)(fe.Z,{autoComplete:"family-name",name:"lname"})})})]}),(0,p.jsx)(le.Z.Item,{label:e("checkout.payment_information.card_number"),name:"ccnumber","data-test-id":"ccnumber-form-item",children:(0,p.jsx)("span",{className:"ant-input"})}),(0,p.jsxs)(l.Z,{justify:"space-between",gutter:{xs:16,sm:24},children:[(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{label:e("checkout.payment_information.expiration"),name:"ccexp","data-test-id":"ccexp-form-item",children:(0,p.jsx)("span",{className:"ant-input"})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(le.Z.Item,{label:e("checkout.payment_information.cvv"),name:"cvv","data-test-id":"cvv-form-item",children:(0,p.jsx)("span",{className:"ant-input"})})})]})]})},Ze=r(27049),_e="cu2ShAIjZ885iLyYWix5",ke=function(e){var t=(0,ye.$)().t,r=e.checkoutInfo,n=(0,s.useContext)(b);if(!n||!r)return null;var i=r.tax_total,a=r.sub_total,o=r.grand_total,c=r.total_paid,d=o-c;return(0,p.jsx)("div",{className:_e,"data-test-id":"grand-total-box",children:(0,p.jsxs)(l.Z,{gutter:[0,16],children:[(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(ue.Z.Title,{level:4,children:t("checkout.grand_total_box.title")})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsxs)(l.Z,{justify:"space-between","data-test-id":"subtotal-row",children:[(0,p.jsx)(ue.Z.Text,{children:t("checkout.grand_total_box.subtotal")}),(0,p.jsxs)(ue.Z.Text,{strong:!0,children:["$",Pe(a)]})]})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsxs)(l.Z,{justify:"space-between","data-test-id":"sales-tax-row",children:[(0,p.jsx)(ue.Z.Text,{children:t("checkout.grand_total_box.sales_tax")}),(0,p.jsxs)(ue.Z.Text,{strong:!0,children:["$",Pe(i)]})]})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsxs)(l.Z,{justify:"space-between","data-test-id":"grand-total-row",children:[(0,p.jsx)(ue.Z.Text,{children:t("checkout.grand_total_box.grand_total")}),(0,p.jsxs)(ue.Z.Text,{strong:!0,children:["$",Pe(o)]})]})}),!!n.payments.length&&(0,p.jsx)(u.Z,{xs:24,"data-test-id":"previous-payments-row",children:(0,p.jsxs)(l.Z,{justify:"space-between",children:[(0,p.jsx)(ue.Z.Text,{children:t("checkout.grand_total_box.previous_payments")}),(0,p.jsxs)(ue.Z.Text,{strong:!0,children:["- $",Pe(c)]})]})}),(0,p.jsxs)(u.Z,{xs:24,children:[(0,p.jsx)(Ze.Z,{children:t("checkout.grand_total_box.balance_due")}),(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsxs)(ue.Z.Title,{children:["$",Pe(d)]})})]})]})})};function Pe(e){return parseFloat(e).toFixed(2)}var Oe=(0,s.memo)(ke),Le="BGcd3IsHr2zf5XvA9FPM",Ee=function(e){var t=(0,ye.$)().t,r=e.form,n=e.onFinish,i=e.errorMessage,a=e.processing,o=e.checkoutInfo,d=(0,s.useContext)(b),h=(0,s.useRef)(),f=Boolean(o)&&new(ce())(o.grand_total).minus(o.total_paid).lte(0);return(0,s.useEffect)((function(){i&&window.scrollTo(0,h.current.offsetTop)}),[i]),(0,p.jsx)(c.Z,{className:Le,children:(0,p.jsxs)(le.Z,{form:r,layout:"vertical",colon:!1,hideRequiredMark:!0,onFinish:n,scrollToFirstError:!0,children:[(0,p.jsx)(l.Z,{gutter:[0,8],children:(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(ue.Z.Title,{level:3,children:t("checkout.title")})})}),!!i&&(0,p.jsx)(l.Z,{gutter:[0,8],ref:h,children:(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(ue.Z.Paragraph,{level:3,type:"danger",children:i})})}),(0,p.jsxs)(l.Z,{gutter:{sm:16,md:32},children:[(0,p.jsx)(u.Z,{xs:24,sm:12,md:16,children:(0,p.jsxs)(l.Z,{gutter:[0,{xs:16,sm:16,md:32}],children:[(0,p.jsx)(u.Z,{xs:24,sm:0,children:(0,p.jsx)(Oe,{checkoutInfo:o})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(be,{})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(we,{})})]})}),(0,p.jsx)(u.Z,{xs:24,sm:12,md:8,children:(0,p.jsx)(de.Z,{spinning:!d,size:"large",children:(0,p.jsxs)(l.Z,{gutter:[0,24],children:[(0,p.jsx)(u.Z,{xs:0,sm:24,children:(0,p.jsx)(Oe,{checkoutInfo:o})}),(0,p.jsx)(u.Z,{span:24,"data-test-id":"submit-form-container",children:f?(0,p.jsxs)(ue.Z.Title,{align:"center",children:[(0,p.jsx)(he.Z,{style:{color:"green"}})," ",t("checkout.paid")]}):(0,p.jsx)(pe.Z,{type:"primary",block:!0,size:"large",htmlType:"submit",loading:a,children:t(a?"checkout.processing":"checkout.submit_secure_payment")})})]})})})]})]})})},Te=r(39666);function Ce(e){return function(){try{e.apply(void 0,arguments)}catch(t){throw Te.Tb(t),t}}}var Ne,Ie,Se=function(e,t){return new Promise((function(r,n){if(!e)return n("resourceUrl is required");var i=document.createElement("script");i.src=e,i.async=!0,Object.keys(t).forEach((function(e){i.setAttribute(e,t[e])})),i.onload=function(){r()},i.onerror=function(){n(new Error("Something went wrong when trying to insert the script with src "+e))},document.body.appendChild(i)}))};function Re(){Re=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Z(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=y(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&r.call(m,i)&&(f=m);var x=p.prototype=d.prototype=Object.create(f);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(x,"constructor",p),s(p,"constructor",h),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),s(x,o,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ze(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function Ae(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ze(a,n,i,o,s,"next",e)}function s(e){ze(a,n,i,o,s,"throw",e)}o(void 0)}))}}function Be(){return new Promise((function(e,t){Ne=e,Ie=t,window.CollectJS.startPaymentRequest()}))}function Ue(e){Ne(e.token)}function Me(e,t){var n=(0,s.useState)(!1),i=n[0],a=n[1],o=function(e,t){var n=(0,s.useState)(!1),i=n[0],a=n[1];return(0,s.useEffect)((function(){function n(){return(n=Ae(Re().mark((function e(){var n,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(391).then(r.bind(r,56701));case 2:n=e.sent,i=n.default,a(!0),i(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Ae(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("https://velox.transactiongateway.com/token/Collect.js",{"data-tokenization-key":t});case 2:a(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&("test"!==e?function(){i.apply(this,arguments)}():function(){n.apply(this,arguments)}())}),[t]),i}((0,re.W)().env,t),c=(0,ye.$)().t;return(0,s.useEffect)((function(){o&&(window.CollectJS?(window.CollectJS.tokenPromise.catch((function(){a(!0)})),window.CollectJS.configure({styleSniffer:!1,customCss:{height:"22px","font-variant-numeric":"tabular-nums",color:"rgba(0, 0, 0, 0.65)","font-size":"14px",border:"0px","line-height":"1.5715px"},focusCss:{"outline-style":"none"},fields:{ccnumber:{selector:"#ccnumber",title:c("checkout.collectjs.ccnumber")},ccexp:{selector:"#ccexp",title:c("checkout.collectjs.ccexp"),placeholder:c("checkout.collectjs.ccexp_placeholder")},cvv:{display:"show",selector:"#cvv",title:c("checkout.collectjs.cvv")}},variant:"inline",timeoutDuration:5e3,callback:Ce(Ue),validationCallback:Ce((function(t,r,n){e(t,r,n);var i=new Error(n);i.type="validation",Ie&&!r&&Ie(i)})),timeoutCallback:Ce((function(){var e=new Error(c("checkout.collectjs.payment_not_available"));e.type="timeout",Ie(e)}))})):a(!0))}),[o]),{getToken:Be,isInvalidTokenError:i}}var Fe=r.p+"static/CheckoutPage/Success/img/success-icon1x-104b9811aade1264c4c0.png",Ge=r.p+"static/CheckoutPage/Success/img/success-icon2x-e5f496fa8f763ccc495c.png",He=r.p+"static/CheckoutPage/Success/img/success-icon3x-eb92a037bd52974aa23d.png",qe=r(38648),We="r1bSmpKMqK05xuyHbdtQ";function $e(){$e=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Z(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=y(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&r.call(m,i)&&(f=m);var x=p.prototype=d.prototype=Object.create(f);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(x,"constructor",p),s(p,"constructor",h),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),s(x,o,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ve(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function De(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Ve(a,n,i,o,s,"next",e)}function s(e){Ve(a,n,i,o,s,"throw",e)}o(void 0)}))}}var Ye=function(e){var t=(0,ye.$)().t,r=e.payment,n=(0,o.H)().channelManager,i=(0,s.useState)(!1),c=i[0],d=i[1],h=(0,s.useRef)(),f=(0,a.UO)().workOrderId,v="/work_orders/"+f;function m(){return(m=De($e().mark((function e(){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,k(f);case 4:r=e.sent,h.current=r.job_id,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),d(!1),qe.Z.error({message:t("checkout.success.error"),description:t("checkout.success.pdf_download_error")});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}(0,s.useEffect)((function(){n&&n.bind("job-update",(function(e){e.job_id===h.current&&(d(!1),qe.Z.success({message:t("checkout.success.success"),description:t("checkout.success.ready_for_review")}),window.location=e.file_url)}))}),[n]);var x=new Date(r.created_at).toLocaleDateString(),j=parseFloat(r.amount);return(0,p.jsxs)(l.Z,{gutter:[0,24],children:[(0,p.jsx)(u.Z,{className:We,span:24,children:(0,p.jsxs)(l.Z,{gutter:[0,16],children:[(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(ue.Z.Title,{type:"secondary",level:4,children:t("checkout.success.receipt_summary")})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsxs)(l.Z,{justify:"space-between",children:[(0,p.jsx)(ue.Z.Text,{type:"secondary",children:t("checkout.success.balance_due")}),(0,p.jsx)(ue.Z.Text,{strong:!0,children:"$0.00"})]})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsxs)(l.Z,{justify:"space-between",children:[(0,p.jsx)(ue.Z.Text,{type:"secondary",children:t("checkout.success.date")}),(0,p.jsx)(ue.Z.Text,{strong:!0,children:x})]})}),(0,p.jsxs)(u.Z,{xs:24,children:[(0,p.jsx)(Ze.Z,{children:t("checkout.success.amount_paid")}),(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsxs)(ue.Z.Title,{children:["$",j.toFixed(2)]})})]})]})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsxs)(l.Z,{justify:"space-between",gutter:[{xs:16,sm:24},{xs:8,sm:0}],children:[(0,p.jsx)(u.Z,{xs:24,sm:12,children:(0,p.jsx)(pe.Z,{block:!0,type:"secondary",size:"large",onClick:function(){return m.apply(this,arguments)},loading:c,children:t("checkout.success.view_receipt")})}),(0,p.jsx)(u.Z,{xs:24,sm:12,children:(0,p.jsx)(pe.Z,{block:!0,type:"primary",size:"large",href:v,children:t("checkout.success.return_home")})})]})})]})},Qe="xffrUf50MLH2jR6tXv9_",Ke="e1DSRYn7_0lZ2f3yekpX";var Xe=function(e){var t=(0,ye.$)().t,r=e.workOrder,n=e.payment,i=t("checkout.success.thanks_for_choosing",{shopName:r.shop.name});return(0,p.jsxs)(l.Z,{className:Qe,gutter:[24,24],"data-test-id":"success-page",children:[(0,p.jsx)(u.Z,{xs:24,md:14,lg:16,children:(0,p.jsxs)(l.Z,{align:"middle",justify:"center",gutter:[0,48],children:[(0,p.jsx)("img",{className:Ke,src:Fe,srcSet:[Fe,Ge,He].join(", ")}),(0,p.jsxs)(u.Z,{children:[(0,p.jsxs)(ue.Z.Title,{children:[t("checkout.success.success"),"!"]}),(0,p.jsx)(ue.Z.Title,{level:2,type:"secondary",strong:!0,children:t("checkout.success.thanks_for_business")})]}),(0,p.jsxs)(u.Z,{span:24,children:[r.customer.contact_email&&(0,p.jsxs)(ue.Z.Title,{level:4,children:[t("checkout.success.receipt_emailed"),(0,p.jsxs)(ue.Z.Text,{strong:!0,children:[" ",r.customer.contact_email,"."]})]}),(0,p.jsx)(ue.Z.Title,{level:4,children:t("checkout.success.view_and_thanks")}),(0,p.jsx)(ue.Z.Title,{level:4,children:i})]})]})}),(0,p.jsx)(u.Z,{xs:24,md:10,lg:8,children:(0,p.jsx)(Ye,{payment:n})})]})},Je="Transaction was declined, please try another credit card.",et="Transaction was declined, please check your payment information and try again.",tt="Transaction was declined, please contact your bank for details.";function rt(e){var t=e.shop;return"Transaction was declined (error code "+e.paymentTransaction.response_code+"), please contact "+t.name+"."}var nt={200:Je,201:Je,202:"Transaction was declined due to insufficient balance.",203:"Transaction was declined - credit card limit exceeded.",204:function(e){return"Transaction was declined (error code 204), please contact "+e.shop.name+"."},220:et,221:Je,222:Je,223:"Transaction was declined - credit card has expired.",224:et,225:et,226:et,240:tt,250:tt,251:tt,252:tt,253:tt,260:function(e){return"Transaction was declined, please review the instructions: "+e.paymentTransaction.response_text},261:tt,262:tt,263:et,264:Je,300:Je,420:"Transaction was declined, please check your connection and try again.",461:Je};function it(e,t){var r,n=null!=(r=nt[t.response_code])?r:rt;return"string"===typeof n?n:n({shop:e,paymentTransaction:t})}function at(){at=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Z(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=y(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&r.call(m,i)&&(f=m);var x=p.prototype=d.prototype=Object.create(f);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(x,"constructor",p),s(p,"constructor",h),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),s(x,o,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ot(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function st(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ot(a,n,i,o,s,"next",e)}function s(e){ot(a,n,i,o,s,"throw",e)}o(void 0)}))}}var ct,lt=function(){var e=(0,ye.$)().t,t=(0,s.useState)(),r=t[0],n=t[1],i=(0,a.UO)().workOrderId,c=(0,s.useRef)(!1),l=le.Z.useForm()[0],u=(0,s.useContext)(b),h=(0,o.H)().setChannelName,f=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/checkout").then((function(e){return e.data}))}(i)})),v=f[0].data,m=Me((function(e,t,r){if(r.includes("tokenization service failed"))return;if(l.setFields([{name:e,errors:t?[]:[r]}]),t||c.current)return;l.scrollToField(e),c.current=!0}),null==v?void 0:v.payments360_tokenization_key),j=m.getToken,g=m.isInvalidTokenError,y=(0,d.Z)((function(e){return E.apply(this,arguments)}),{manual:!0}),w=y[0],Z=w.data,k=w.loading,P=w.error,O=y[1].execute;function L(){return(L=st(at().mark((function e(t){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),c.current=!1,e.prev=2,e.next=5,O(t);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function E(){return(E=st(at().mark((function e(t){var r;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return r=e.sent,e.next=5,N(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return C.apply(this,arguments)}function C(){return(C=st(at().mark((function e(t){var r,n,i,a,o,s,c,l,d,h;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return r=e.sent,n=new(ce())(v.grand_total).minus(v.total_paid),i=t.zip,a=t.state,o=t.city,s=t.address,c=t.fname,l=t.lname,d={payment_token:r,requested_amount:n,work_order_id:u.id,first_name:c,last_name:l,zip:i,state:a,city:o,address:s},e.next=8,_(d);case 8:return h=e.sent,e.abrupt("return",h.data);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return I.apply(this,arguments)}function I(){return(I=st(at().mark((function t(r){var n;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=r.status,t.next="approved"===t.t0?3:"declined"===t.t0?6:9;break;case 3:return t.next=5,(0,x.ZP)("payments/"+r.payment_id).then((function(e){return e.data}));case 5:return t.abrupt("return",t.sent);case 6:throw(n=new Error(it(u.shop,r))).type="transaction",n;case 9:throw new Error(e("checkout.transaction_error"));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if((0,s.useEffect)((function(){var t;if(P&&"validation"!==P.type)return"timeout"===P.type||"transaction"===P.type?n(P.message):void n((t=u.shop.name,e("checkout.payment_method_unavailable",{shopName:t})))}),[P]),(0,s.useEffect)((function(){g&&n(e("checkout.call_shop"))}),[g]),(0,s.useEffect)((function(){u&&h("private-shopware-customer-"+u.customer.id)}),[h,u]),Z&&u)return(0,p.jsx)(Xe,{workOrder:u,payment:Z});var S={processing:k,onFinish:function(e){return L.apply(this,arguments)},form:l,errorMessage:r,workOrder:u,checkoutInfo:v};return(0,p.jsx)(Ee,Object.assign({},S))},ut=r(33860),dt=r(86288),ht=r(47166),pt=r.n(ht),ft=r(14926),vt=r(19650),mt=r(13349),xt=r(48775),jt={chatContainer:"R3tEMBbSssjHw6Rh7clm",messageUsWrapper:"bxa1NvJJkGazAIjILvSg",messageUs:"iraLZxsq4vWxj3JnL2ei",collapse:"JLf6uBcGjzxCyfrf7zwE"},gt=pt().bind(jt),yt=mt.Z.Text,wt=function(e){var t=e.affixed,r=(0,ye.$)().t,n=m()[0].data;return(0,p.jsxs)(l.Z,{className:jt.chatContainer,gutter:8,wrap:!1,align:"middle",children:[(0,p.jsx)(u.Z,{className:jt.messageUsWrapper,children:(0,p.jsx)(yt,{strong:!0,className:gt("messageUs",{collapse:t}),children:r("dvx.welcome.message_us")})}),(0,p.jsx)(u.Z,{className:"react-chat-container",children:(0,p.jsx)(xt.Z,{dvx:!0,disabled:!0,workOrder:n})})]})},bt=mt.Z.Text,Zt=function(){var e=(0,ye.$)().t,t=m()[0].data;return t?t.advisor?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(bt,{inheritColor:!0,children:[e("dvx.welcome.service_advisor"),": "]}),(0,p.jsx)(bt,{strong:!0,inheritColor:!0,children:t.advisor.name})]}):(0,p.jsx)(bt,{inheritColor:!0,children:e("dvx.welcome.no_service_advisor")}):null};function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_t.apply(this,arguments)}var kt,Pt=function(e){return s.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),ct||(ct=s.createElement("path",{d:"M511.203 387l-23.25 100.782c-3.265 14.25-15.797 24.219-30.469 24.219C205.234 512.001 0 306.78 0 54.497 0 39.84 9.969 27.309 24.219 24.059L124.969.809c14.687-3.407 29.765 4.218 35.859 18.125l46.531 108.563c5.438 12.782 1.766 27.657-8.984 36.438l-53.828 44.094c33.984 69.22 90.281 125.502 159.531 159.502l44.047-53.813c8.688-10.781 23.703-14.5 36.484-8.969l108.485 46.501c13.906 6 21.484 21.156 18.109 35.75z"})))},Ot=r(85428),Lt={container:"UA5_4USbi3kKCMeoV3V8",phoneWrapper:"ebsYsJILso2Uzy6lWuzK",callUs:"S6n4Dn3ZGAlBon_LMlwn",collapse:"g6ViAls1pXvcUf1vwb83"},Et=pt().bind(Lt),Tt=mt.Z.Text,Ct=function(e){var t=e.affixed,r=e.phone,n=(0,ye.$)().t;return(0,p.jsx)("a",{href:"tel:"+r,children:(0,p.jsxs)(l.Z,{gutter:8,align:"middle",className:Lt.container,children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(Tt,{strong:!0,className:Et("callUs",{collapse:t}),children:n("dvx.welcome.call_us")})}),(0,p.jsx)(u.Z,{className:Lt.phoneWrapper,children:(0,p.jsx)(Pt,{style:{color:t?Ot.M4:Ot.i7,fontSize:19}})})]})})},Nt=function(e){var t=e.affixed,r=m()[0].data.shop;return(0,p.jsxs)(l.Z,{justify:"space-between",children:[r.phone&&(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(Ct,{affixed:t,phone:r.phone})}),(0,p.jsx)(u.Z,{span:r.phone?12:24,children:(0,p.jsx)(l.Z,{justify:"end",children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(wt,{affixed:t})})})})]})},It="xQb1aPyqE0VfvRaXg_ff",St=mt.Z.Text,Rt=function(e){var t=e.inheritColor;return(0,p.jsx)(St,{className:It,inheritColor:t,children:"\u2022"})},zt=mt.Z.Text,At=function(e){var t=e.affixed,r=(0,ye.$)().t,n=$.ZP.useBreakpoint(),i=m()[0].data;(0,s.useEffect)((function(){return document.body.classList.add("affixed-header-offset-scroll"),function(){return document.body.classList.remove("affixed-header-offset-scroll")}}),[]);var a=i.shop;return n.md?(0,p.jsxs)(l.Z,{justify:"space-between",align:"middle",children:[(0,p.jsx)(u.Z,{md:14,children:(0,p.jsxs)(vt.Z,{wrap:!0,children:[(0,p.jsx)(Zt,{}),(0,p.jsx)(Rt,{inheritColor:!0}),a.phone&&n.lg&&(0,p.jsxs)("div",{children:[(0,p.jsxs)(zt,{inheritColor:!0,children:[r("dvx.welcome.call_us"),": "]}),(0,p.jsx)(zt,{strong:!0,inheritColor:!0,children:a.phone})]}),a.phone&&!n.lg&&(0,p.jsx)(Ct,{phone:a.phone,affixed:t})]})}),(0,p.jsx)(u.Z,{md:10,children:(0,p.jsx)(l.Z,{justify:"end",children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(wt,{affixed:t})})})})]}):(0,p.jsxs)(l.Z,{justify:"space-between",gutter:[0,8],children:[(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Zt,{})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Nt,{affixed:t})})]})};function Bt(){return Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bt.apply(this,arguments)}var Ut=function(e){return s.createElement("svg",Bt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),kt||(kt=s.createElement("path",{d:"M256 16C123.449 16 16 123.508 16 256c0 132.578 107.449 240 240 240s240-107.422 240-240c0-132.492-107.449-240-240-240zm0 112c17.674 0 32 14.326 32 32 0 17.672-14.326 32-32 32s-32-14.328-32-32c0-17.674 14.326-32 32-32zm40 256h-80c-13.25 0-24-10.75-24-24s10.75-24 24-24h16v-64h-8c-13.25 0-24-10.75-24-24s10.75-24 24-24h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24s-10.75 24-24 24z"})))},Mt=r(72233),Ft=ue.Z.Text,Gt=function(e){var t=e.vehicleResponse,r=(0,ye.$)().t,n=t.data;if(t.loading)return(0,p.jsx)(de.Z,{});if(!n)return(0,p.jsx)(Ft,{children:r("dvx.welcome.noVehicle")});var i=n.year,a=n.make,o=n.model,s=n.plate;return(0,p.jsxs)(vt.Z,{children:[(0,p.jsxs)(Ft,{children:[i," ",a," ",o]}),s&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Rt,{}),(0,p.jsxs)(Ft,{children:[r("dvx.welcome.plate"),": ",(0,p.jsx)(Ft,{strong:!0,children:s||r("dvx.welcome.none")})]})]})]})},Ht=r(60331),qt=function(){var e=(0,ye.$)().t,t=m()[0].data,r=(0,s.useMemo)((function(){if(t)return"estimate"===t.state?null:"in_progress"===t.state?"blue":"green"}),[t]);return t?(0,p.jsx)(Ht.Z,{color:r,children:e("common."+t.state)}):null},Wt=r(48889),$t=Wt.Z.bind(Wt.Z);Object.assign($t,Wt.Z),$t.info=function(e){return Wt.Z.info(Object.assign({},e,{icon:(0,p.jsx)("span",{className:"anticon",children:(0,p.jsx)(Ut,{style:{fontSize:24}})})}))};var Vt=$t,Dt=["className"];var Yt=pt().bind({dvxDivider:"SszTbyq9ZaoAXM1Lpqm7"}),Qt=function(e){var t=e.className,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,Dt);return(0,p.jsx)(Ze.Z,Object.assign({className:Yt("dvxDivider",t)},r))},Kt=ue.Z.Text,Xt=function(e){var t=e.properties,r=e.values,n=(0,ye.$)().t;return(0,p.jsx)(l.Z,{gutter:[0,12],children:(0,p.jsx)(u.Z,{xs:24,children:t.map((function(e,t){return(0,p.jsxs)(l.Z,{gutter:[8,8],children:[(0,p.jsx)(u.Z,{xs:null,md:7,children:(0,p.jsxs)(Kt,{strong:!0,children:[e,":"]})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(Kt,{children:r[t]||n("dvx.welcome.none")})})]},e)}))})})},Jt=(0,s.memo)(Xt),er="llmKiF_OEfgQnQTKHdEP",tr=mt.Z.Text,rr=function(e){var t,r=e.visible,n=e.toggle,i=e.vehicleResponse,a=(0,ye.$)().t,o=(0,re.W)().currentProfile,s=m()[0].data,c=i.data;if(!s)return null;var d=s.odometer_in,h=s.odometer_out;return(0,p.jsx)(Vt,{title:(0,p.jsx)(tr,{strong:!0,children:a("dvx.welcome.modal.title")}),visible:r,onCancel:n,className:er,footer:(0,p.jsx)(pe.Z,{type:"primary",onClick:n,children:a("dvx.welcome.modal.ok")}),children:(0,p.jsxs)(l.Z,{gutter:[0,8],children:[(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Jt,{values:[null==o?void 0:o.full_name,null==o?void 0:o.contact_email,null==o||null==(t=o.primary_phone)?void 0:t.international],properties:[a("dvx.welcome.modal.user.fullName"),a("dvx.welcome.modal.user.email"),a("dvx.welcome.modal.user.contact")]})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Qt,{})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Jt,{values:[(null==c?void 0:c.year)+" "+(null==c?void 0:c.make)+" "+(null==c?void 0:c.model),null==c?void 0:c.plate,null==c?void 0:c.vin,null==c?void 0:c.engine,null==c?void 0:c.fleet_number,null==c?void 0:c.color,d,h],properties:[a("dvx.welcome.modal.vehicle.car_model"),a("dvx.welcome.modal.vehicle.plate_number"),a("dvx.welcome.modal.vehicle.vin"),a("dvx.welcome.modal.vehicle.engine"),a("dvx.welcome.modal.vehicle.fleet"),a("dvx.welcome.modal.vehicle.color"),a("dvx.welcome.modal.vehicle.odometerIn"),a("dvx.welcome.modal.vehicle.odometerOut")]})})]})})},nr="dA21VTNTdURpI2zL0F33",ir="TZ7qzX_MBgymld6iQqzR",ar="I8bsOF1bUqGLGjJhVGTE",or=mt.Z.Title,sr=mt.Z.Text,cr=function(e){var t=e.vehicleResponse,r=(0,ye.$)().t,n=$.ZP.useBreakpoint(),i=(0,re.W)().currentProfile,a=m()[0].data,o=(0,Mt.O)(!1),s=o[0],c=o[1],d=a.shop,h=a.number;return(0,p.jsxs)(l.Z,{gutter:[0,4],children:[(0,p.jsx)(u.Z,{span:24,children:(0,p.jsxs)(l.Z,{wrap:!1,justify:"space-between",className:ir,children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(or,{level:4,children:r("dvx.welcome.title",{garage:d.name,firstName:i.first_name})})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(Ut,{onClick:c,className:ar})})]})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsxs)(vt.Z,{wrap:!0,children:[(0,p.jsxs)(sr,{children:[(0,p.jsxs)(sr,{children:[r("dvx.welcome.repairOrder")," "]}),(0,p.jsx)(sr,{strong:!0,children:h})]}),(0,p.jsx)(Rt,{}),(0,p.jsx)(qt,{}),(0,p.jsx)(Rt,{}),(0,p.jsx)(Gt,{vehicleResponse:t})]})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsxs)(l.Z,{justify:"space-between",children:[(0,p.jsx)(u.Z,{children:(0,p.jsxs)(vt.Z,{wrap:!0,direction:n.md?"horizontal":"vertical",children:[(0,p.jsxs)(vt.Z,{children:[(0,p.jsx)(Zt,{}),(0,p.jsx)(Rt,{})]}),d.phone&&n.md&&(0,p.jsxs)(sr,{children:[(0,p.jsxs)(sr,{children:[r("dvx.welcome.call_us"),": "]}),(0,p.jsx)(sr,{strong:!0,children:d.phone})]})]})}),n.md&&(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{align:"bottom",className:nr,children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(wt,{})})})})]})}),(0,p.jsx)(rr,{visible:s,toggle:c,vehicleResponse:t})]})},lr="i_xyGxexlz59S9kKcdYQ",ur="qqrVy9CYtHOdUyFK6OVb",dr="Fn_mKDBaoYkS4nxxTZQi",hr=function(e){var t=e.src;return(0,p.jsx)(l.Z,{className:ur,align:"middle",justify:"center",children:(0,p.jsx)(u.Z,{className:lr,children:(0,p.jsx)("img",{className:dr,src:t,"data-testid":"shop-logo"})})})},pr=function(e){var t=e.vehicleResponse,r=$.ZP.useBreakpoint(),n=m()[0].data;return(0,s.useEffect)((function(){return document.body.classList.add("normal-header-offset-scroll"),function(){return document.body.classList.remove("normal-header-offset-scroll")}}),[]),r.md?(0,p.jsxs)(l.Z,{gutter:16,wrap:!1,justify:"space-between",children:[n.shop.logo_url&&(0,p.jsx)(u.Z,{children:(0,p.jsx)(hr,{src:n.shop.logo_url})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(cr,{vehicleResponse:t})})]}):(0,p.jsxs)(l.Z,{gutter:[0,8],children:[n.shop.logo_url&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(hr,{src:n.shop.logo_url})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(cr,{vehicleResponse:t})}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Nt,{})})]})},fr=r(40474),vr=pt().bind({headerWrapper:"Kp0syg07Q4TTsRq9MRYk",head:"TnQpfw28Wfmgxedn65qB",collapse:"gH3rBNwviDXz726oJvwy"}),mr=function(e){var t=e.mainColumnRef,r=$.ZP.useBreakpoint(),n=(0,s.useState)(!1),i=n[0],a=n[1],o=m()[0],c=o.data,l=o.loading,h=(0,d.Z)((function(){return ft.r(c.vehicle_id)}),{manual:!0}),f=h[0],v=h[1].execute;return(0,s.useEffect)((function(){null!=c&&c.vehicle_id&&v()}),[null==c?void 0:c.vehicle_id]),l?(0,p.jsx)(ut.Z,{active:!0,paragraph:{rows:1}}):c?(0,p.jsx)(fr.g,{workOrder:c,children:(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)("div",{className:vr("headerWrapper"),children:(0,p.jsx)(dt.Z,{target:function(){return r.lg?t.current:window},onChange:a,children:(0,p.jsxs)("div",{className:vr("head",{collapse:i}),children:[!i&&(0,p.jsx)(pr,{vehicleResponse:f}),i&&(0,p.jsx)(At,{affixed:i})]})})})})}):null},xr=r(94184),jr=r.n(xr),gr=r(27279),yr=r(28392),wr="t5UHAe54DfwKZtsKiPZL",br="BmY4HyPHC7nEtGLiEOQK",Zr="ToRf_6Rn7ld9YdACzdj3",_r=["style"];var kr=gr.Z.Panel,Pr=function(e){var t,r=e.style,n=void 0===r?{fontSize:16}:r,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,_r);return(0,p.jsx)(yr.Z,{style:n,className:jr()(br,i.className,(t={},t[Zr]=i.isActive,t))})},Or=function(e){return(0,p.jsx)(Pr,Object.assign({style:{fontSize:16}},e))},Lr=function(e){return(0,p.jsx)(gr.Z,Object.assign({bordered:!1,expandIconPosition:"right",expandIcon:Or},e))};Lr.Panel=function(e){var t=e.header&&(0,p.jsx)("div",{className:wr,children:e.header});return(0,p.jsx)(kr,Object.assign({},e,{header:t}))},Lr.ExpandIcon=Pr;var Er=Lr,Tr=r(38272);function Cr(){var e=(0,re.W)().currentTenant,t=e.transparency_price,r=e.transparency_subtotal,n=e.transparency_parts,i=e.transparency_work_order_inspection;return{canShowLinePrice:"Prices for Parts, Hazmat/Fees, and Sublets"===t,includeBrand:n.includes("Brand"),includePartNumber:n.includes("Part Number"),showAllSubTotals:"all_subtotals"==r,noSubtotals:"no_subtotals"==r,inspectionsCollapsedInWorkOrder:"collapsed"===i}}var Nr="FqLFMIjXw_eYXNGajHjT",Ir="dH3ghBD1UmtqJzuqjIBl",Sr=ue.Z.Text,Rr=function(e){var t=e.headers,r=(0,ye.$)().t,n="Prices for Parts, Hazmat/Fees, and Sublets"===(0,re.W)().currentTenant.transparency_price,i=function(e){return(0,p.jsx)(u.Z,{md:3,className:Ir,children:(0,p.jsx)(Sr,{children:r("dvx.services."+e).toUpperCase()})},e)};return(0,p.jsxs)(l.Z,{justify:"end",className:Nr,children:[!n&&i("quantity"),n&&t.map((function(e){return i(e)}))]})},zr=r(60832),Ar="F4sei_TG7Jduliiuo9h3",Br="EZzeXt8pzy3G6Bu3Hzrw",Ur=ue.Z.Text,Mr=pt().bind({indented:"ajQn8CsN961fx2_pqQIg",displayBlock:"fvwU5VvOYuVbgIuOZA31"}),Fr=function(e){var t=e.text,r=e.strong,n=e.displayBlock;return(0,p.jsx)(Ur,{strong:r,className:Mr("indented",{displayBlock:n}),children:t})},Gr=(0,s.memo)(Fr),Hr=["totalPrice","header","listHeaders","children"];var qr=gr.Z.Panel,Wr=ue.Z.Text,$r=$.ZP.useBreakpoint,Vr=function(e){var t=e.totalPrice,r=e.header,n=e.listHeaders,i=e.children,a=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,Hr),o=Cr().showAllSubTotals,s=$r(),c=(0,zr.U)().formatCurrency;return(0,p.jsx)(qr,Object.assign({className:Ar,header:(0,p.jsx)(Gr,{strong:!0,text:r.toUpperCase()}),extra:o&&t&&(0,p.jsx)(Wr,{strong:!0,children:c(t)})},a,{children:(0,p.jsx)(Tr.ZP,{className:Br,size:"small",header:!(null==n||!n.length)&&s.md&&(0,p.jsx)(Rr,{headers:n}),children:i})}))},Dr=ue.Z.Text,Yr=$.ZP.useBreakpoint,Qr=function(e){var t=e.quantity,r=e.unitPrice,n=e.totalPrice,i=e.unitPriceLabel,a=e.showListPrice,o=(0,ye.$)().t,s=Yr(),c=(0,zr.U)().formatCurrency,d=Cr().canShowLinePrice,h=s.md&&{textAlign:"center"},f=(0,p.jsxs)(Dr,{children:[!s.md&&(0,p.jsx)(Gr,{text:o("dvx.services.QTY").toUpperCase()+":"})," ",t]});return d?a?(0,p.jsx)(u.Z,{xs:24,md:9,children:(0,p.jsxs)(l.Z,{style:h,children:[(0,p.jsx)(u.Z,{xs:8,children:f}),(0,p.jsx)(u.Z,{xs:8,children:(0,p.jsxs)(Dr,{children:[!s.md&&o(i).toUpperCase()+":"," ",c(r)]})}),(0,p.jsx)(u.Z,{xs:8,children:(0,p.jsxs)(Dr,{children:[!s.md&&o("dvx.services.price").toUpperCase()+":"," ",c(n)]})})]})}):(0,p.jsx)(u.Z,{xs:24,md:6,children:(0,p.jsxs)(l.Z,{style:h,children:[(0,p.jsx)(u.Z,Object.assign({},s.xs&&{flex:1},{md:12,children:f})),(0,p.jsx)(u.Z,Object.assign({},s.xs&&{flex:1},{md:12,children:(0,p.jsxs)(Dr,{children:[!s.md&&o("dvx.services.price").toUpperCase()+":"," ",c(n)]})}))]})}):(0,p.jsx)(u.Z,{xs:24,md:3,children:(0,p.jsx)(l.Z,{style:h,children:(0,p.jsx)(u.Z,{xs:24,children:f})})})},Kr=function(e){var t=e.label,r=e.children,n=e.labelWidth,i=void 0===n?24:n;return(0,p.jsxs)(l.Z,{gutter:[0,8],justify:"space-between",style:{width:"100%"},children:[(0,p.jsx)(u.Z,{xs:i,md:12,children:(0,p.jsx)(Gr,{text:t,displayBlock:!0})}),r]})},Xr=["parts","totalPrice","showListPrice"];var Jr=ue.Z.Text,en=function(e){var t=e.parts,r=e.totalPrice,n=e.showListPrice,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,Xr),a=(0,ye.$)().t,o=Cr(),c=o.includeBrand,l=o.includePartNumber,u=["quantity","listPrice","price"];return n||u.splice(1,1),(0,s.createElement)(Vr,Object.assign({},i,{key:"parts",totalPrice:r,header:a("dvx.services.sectionTitles.parts"),listHeaders:u}),t.map((function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(Kr,{label:(0,p.jsxs)(Jr,{children:[c&&e.brand," ",e.description," ",l&&e.number]}),children:(0,p.jsx)(Qr,{quantity:e.quantity,unitPrice:e.quoted_price,totalPrice:e.total_price,unitPriceLabel:"dvx.services.listPrice",showListPrice:n})})},e.brand+e.description+e.number)})))},tn=["hazmats","totalPrice","showListPrice"];var rn=ue.Z.Text,nn=function(e){var t=e.hazmats,r=e.totalPrice,n=e.showListPrice,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,tn),a=(0,ye.$)().t,o=["quantity","fee","price"];return n||o.splice(1,1),(0,s.createElement)(Vr,Object.assign({},i,{key:"hazmats",totalPrice:r,header:a("dvx.services.sectionTitles.hazmats"),listHeaders:o}),t.map((function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(Kr,{label:(0,p.jsx)(rn,{children:e.name}),children:(0,p.jsx)(Qr,{quantity:e.quantity,unitPrice:e.fee,totalPrice:e.price,unitPriceLabel:"dvx.services.fee",showListPrice:n})})},e.name)})))},an=function(e){var t=e.name;return(0,p.jsx)(Gr,{text:t})},on=(0,s.memo)(an),sn=["labor","totalPrice"];var cn=function(e){var t=e.labor,r=e.totalPrice,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,sn),i=(0,ye.$)().t;return(0,s.createElement)(Vr,Object.assign({},n,{key:"labors",totalPrice:r,header:i("dvx.services.sectionTitles.labor")}),t.map((function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(on,{name:e.name})},e.name)})))},ln=ue.Z.Text,un=function(e){var t=e.name,r=e.price,n=(0,zr.U)().formatCurrency,i=Cr().canShowLinePrice,a=(0,p.jsx)(ln,{children:t});return(0,p.jsx)(Kr,{label:a,labelWidth:18,children:i&&(0,p.jsx)(u.Z,{xs:6,sm:6,md:3,style:{textAlign:"center"},children:(0,p.jsx)(ln,{children:n(r)})})})},dn=["sublets","totalPrice"];var hn,pn=function(e){var t=e.sublets,r=e.totalPrice,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,dn),i=Cr().canShowLinePrice,a=(0,ye.$)().t;return(0,s.createElement)(Vr,Object.assign({},n,{key:"sublets",totalPrice:r,header:a("dvx.services.sectionTitles.sublets"),listHeaders:i?["price"]:[]}),t.map((function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(un,{name:e.name,price:e.price})},e.name)})))};function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fn.apply(this,arguments)}var vn,mn,xn=function(e){return s.createElement("svg",fn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),hn||(hn=s.createElement("path",{d:"M256 16C123.451 16 16 123.451 16 256s107.451 240 240 240 240-107.451 240-240S388.549 16 256 16zm115.812 195.812l-128 128C238.344 345.281 231.156 348 224 348s-14.344-2.719-19.812-8.188l-64-64c-10.907-10.937-10.907-28.687 0-39.624 10.937-10.938 28.687-10.938 39.624 0L224 280.406l108.188-108.218c10.937-10.938 28.687-10.938 39.624 0 10.907 10.937 10.907 28.687 0 39.624z"})))},jn=r(63618),gn="iF1e2Hsnzi9Z9mw2alP6",yn=r(91894),wn=r(62462),bn="nd4pdl6TDEQcVpXzav2j",Zn=function(e){var t=e.previewUrl,r=e.largeUrl;return(0,p.jsx)(yn.Z,{className:bn,"data-testid":"image-card",children:(0,p.jsx)(wn.Z,{preview:{src:r},src:t})})},_n="lEDpfax7iP8A6iacrfPM",kn="RWMlFIgTQLa0BwqgYDAo";function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(this,arguments)}function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},On.apply(this,arguments)}var Ln,En,Tn=function(e){return s.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",fill:"currentcolor"},e),mn||(mn=s.createElement("path",{d:"M256 0v128h128L256 0zm-32 128V0H48C21.49 0 0 21.492 0 48v416c0 26.508 21.49 48 48 48h288c26.51 0 48-21.492 48-48V160H256c-17.674 0-32-14.328-32-32zM96 32h64v32H96V32zm0 64h64v32H96V96zm0 64h64v32H96v-32zm32.268 256c-40.565 0-70.758-36.453-62.829-75.453L96 224h64l30.943 116.852C198.721 379.699 168.525 416 128.268 416zM144 336h-32c-8.836 0-16 7.164-16 16s7.164 16 16 16h32c8.836 0 16-7.164 16-16s-7.164-16-16-16z"})))};function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(this,arguments)}function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nn.apply(this,arguments)}var In,Sn=function(e){return s.createElement("svg",Nn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",fill:"currentcolor"},e),En||(En=s.createElement("path",{d:"M256 0v128h128L256 0zm-32 128V0H48C21.49 0 0 21.492 0 48v416c0 26.508 21.49 48 48 48h288c26.51 0 48-21.492 48-48V160H256c-17.674 0-32-14.328-32-32z"})))},Rn={pdf:function(e){return s.createElement("svg",Pn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",fill:"currentcolor"},e),vn||(vn=s.createElement("path",{d:"M184 208c0-4.406-3.594-8-8-8s-8 3.594-8 8c0 2.062.297 23.312 9.141 50.25C179.094 249.594 184 226.156 184 208zM256 0v128h128L256 0zM80 422.375c0 9.656 10.453 11.938 14.359 6.344 4.891-6.844 14.391-20.719 25.719-40.094-14.219 7.969-27.25 17.313-38.016 28.313-1.312 1.343-2.062 3.343-2.062 5.437zM224 128V0H48C21.49 0 0 21.492 0 48v416c0 26.508 21.49 48 48 48h288c26.51 0 48-21.492 48-48V160H256c-17.674 0-32-14.328-32-32zm68 184c24.262 0 44 19.738 44 44 0 24.672-18.941 44-43.125 44-5.994 0-11.814-.953-17.217-2.805-20.056-6.757-38.375-15.961-54.554-27.394-23.875 5.109-45.456 11.519-64.311 19.101-14.432 26.313-27.631 46.149-36.371 58.414C112.979 457.762 100.834 464 87.938 464 65.916 464 48 446.086 48 424.062c0-11.917 3.74-21.824 11.18-29.507 16.183-16.52 37.365-30.989 63.019-43.055 11.754-22.832 21.936-46.039 30.332-69.145C136.197 242.391 136 208.355 136 208c0-22.055 17.945-40 40-40 22.057 0 40 17.945 40 40 0 24.996-7.227 55.754-8.938 62.633a578.053 578.053 0 01-3.082 9.722c7.831 14.461 17.698 27.215 29.444 38.051 29.67-5.047 50.898-6.258 54.154-6.406H292zm-135.469 42.594c17.985-6.5 36.125-11.438 52.922-15.188-12.422-12.062-22.172-25.125-29.797-38.156a623.144 623.144 0 01-23.125 53.344zM292.875 368c6.141 0 11.125-5 11.125-11.125 0-7.5-5.391-12.875-12-12.875h-4c-.344.031-16.828.969-40.953 4.75 11.265 7 24.125 13.188 38.844 18.125 2.14.75 4.562 1.125 6.984 1.125z"})))},doc:function(e){return s.createElement("svg",Cn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",width:"1em",height:"1em",fill:"currentcolor"},e),Ln||(Ln=s.createElement("path",{d:"M256 0v128h128L256 0zm-32 128V0H48C21.492 0 0 21.492 0 48v416c0 26.508 21.492 48 48 48h288c26.508 0 48-21.492 48-48V160H256c-17.672 0-32-14.328-32-32zm48 288H112c-8.836 0-16-7.164-16-16 0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16 0 8.836-7.164 16-16 16zm0-64H112c-8.836 0-16-7.164-16-16 0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16 0 8.836-7.164 16-16 16zm16-80c0 8.836-7.164 16-16 16H112c-8.836 0-16-7.164-16-16 0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16z"})))},zip:Tn,rar:Tn,binary:Sn,unknown:Sn},zn=function(e){var t=e.fileSize,r=e.fileName,n=e.fileUrl,i=r.split(".").pop(),a=function(e){return e>99999?(e/1e5).toFixed(1)+" MB":(e/1e3).toFixed(1)+" KB"}(t)+" "+i.toUpperCase(),o=Rn[i]||Rn.unknown,s=(0,p.jsx)("span",{className:kn,children:(0,p.jsx)(o,{style:{fontSize:"14px"}})});return(0,p.jsx)(yn.Z,{className:_n,onClick:function(){window.open(n,"_blank")},"data-testid":"file-card",children:(0,p.jsx)(yn.Z.Meta,{title:r,description:a,avatar:s})})},An="W9tcNXM9e50fsKNl4SuN",Bn="B1P2fMwQWDF4tx7MK3J0";function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}var Mn,Fn=function(e){return s.createElement("svg",Un({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),In||(In=s.createElement("path",{d:"M256 16C123.451 16 16 123.451 16 256s107.451 240 240 240 240-107.451 240-240S388.549 16 256 16zm116.516 260.48l-144 88A23.988 23.988 0 01216 368.004c-13.693 0-24-11.197-24-24v-176c0-12.69 10.197-23.992 24.006-23.992 4.344 0 8.678 1.176 12.51 3.515l144 88c7.132 4.36 11.484 12.118 11.484 20.477a24 24 0 01-11.484 20.476z"})))},Gn=function(e){var t=e.fileUrl;return(0,p.jsx)(yn.Z,{className:An,"data-testid":"image-card",children:(0,p.jsx)("div",{className:Bn,children:(0,p.jsx)(Fn,{style:{fontSize:"28px"},onClick:function(){window.open(t,"_blank")}})})})},Hn="nUyX3krtvfdM7Tvzz89f",qn=["image","video"],Wn=function(e){var t=e.attachments,r=t.filter((function(e){return qn.indexOf(e.filetype)>-1})),n=t.filter((function(e){return-1===qn.indexOf(e.filetype)}));return(0,p.jsxs)(p.Fragment,{children:[!!r.length&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Tr.ZP,{className:Hn,grid:{gutter:[8,8]},dataSource:r,renderItem:function(e){return(0,p.jsxs)(Tr.ZP.Item,{children:["image"===e.filetype&&(0,p.jsx)(Zn,{previewUrl:e.url_thumb,largeUrl:e.url_large}),"video"===e.filetype&&(0,p.jsx)(Gn,{isVideo:"video"===e.filetype,fileName:e.asset_file_name,fileUrl:e.asset_upload_url})]})}})}),!!n.length&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Tr.ZP,{className:Hn,grid:{gutter:[8,8]},dataSource:n,renderItem:function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(zn,{fileSize:e.asset_file_size,fileName:e.asset_file_name,fileUrl:e.url_original})})}})})]})},$n=pt().bind({well:"TubQ5JaJIlaC6J2M3STh",error:"G7JnXwbOgFDkhuM8vgiI",dashed:"uqoQxA5ZYai8EvQ7qcjG"}),Vn=function(e){var t=e.children,r=e.hasError,n=void 0!==r&&r,i=e.dashed,a=void 0!==i&&i,o=e.className,s=void 0===o?"":o;return(0,p.jsx)("div",{className:$n("well",s,{error:n,dashed:a}),children:t})},Dn=r(51890);function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yn.apply(this,arguments)}var Qn=function(e){return s.createElement("svg",Yn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),Mn||(Mn=s.createElement("path",{d:"M256 16C123.451 16 16 123.451 16 256s107.451 240 240 240 240-107.451 240-240S388.549 16 256 16zm0 112c39.766 0 72 32.236 72 72s-32.234 72-72 72c-39.762 0-72-32.236-72-72s32.238-72 72-72zm0 304c-53.193 0-100.846-23.816-133.145-61.234C141.658 340.402 174.998 320 213.334 320h85.332c38.34 0 71.678 20.4 90.479 50.764C356.844 408.184 309.193 432 256 432z"})))},Kn="dqgrK8IXO29_Iq485ep7",Xn=ue.Z.Text,Jn=function(e){var t=e.profile,r=e.datetime,n=t.name,i=t.isCustomer;return(0,p.jsx)(u.Z,{span:24,children:(0,p.jsxs)(vt.Z,{children:[i&&(0,p.jsx)(Xn,{children:(0,p.jsx)(Dn.C,{"data-testid":"user-avatar",className:Kn,size:"small",icon:(0,p.jsx)(Qn,{})})}),(0,p.jsx)(Xn,{children:n}),(0,p.jsx)(Xn,{children:"\u2022"}),(0,p.jsx)(Xn,{children:r})]})})},ei="JuDf8mTZ873sT2tvzQsE",ti=ue.Z.Text,ri=$.ZP.useBreakpoint,ni=function(e){var t=e.service,r=e.price,n=(0,ye.$)().t,i=(0,zr.U)().formatCurrency,a=Cr().showAllSubTotals,o=ri(),s=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ti,{className:ei,children:n("dvx.recommendations.modal.labor",{price:i(t.labors_total_price)})}),(0,p.jsx)(ti,{className:ei,children:t.parts.length?n("dvx.recommendations.modal.parts",{price:i(t.parts_total_price),quantity:t.parts_total_quantity}):n("dvx.recommendations.modal.noParts")})]});return(0,p.jsxs)(vt.Z,{size:o.md?"large":["middle","small"],wrap:!0,children:[a&&s,(0,p.jsx)(ti,{strong:!0,className:ei,children:n("dvx.recommendations.modal.totalNoTax",{price:i(r)})})]})},ii=["filled","added","declined","grey","blue"];var ai=pt().bind({button:"wvBaZj39uoBeyOgNlq1h",filled:"pviumBdsh6LDXoFwMXgt",declined:"Ekq1L84foXq47Ktn6I4P",added:"te_pTsTCHWrzBhoRO5RQ",blue:"uqXLqJ_GfZle0hTDe9pe",grey:"p5MWReYJvng0TUa3taCh"}),oi=function(e){var t=e.filled,r=e.added,n=e.declined,i=e.grey,a=e.blue,o=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,ii),s=ai("button",{filled:t||o.ghost,added:r,declined:n,grey:i,blue:a});return(0,p.jsx)(pe.Z,Object.assign({},o,{className:s}))},si="ftPXrQWxagndvUqiHbrY",ci=ue.Z.Text,li=function(e){var t=e.service,r=e.price,n=(0,ye.$)().t,i=(0,Mt.O)(!1),a=i[0],o=i[1],s=(0,p.jsxs)(ci,{strong:!0,children:[n("dvx.recommendations.modal.title"),(0,p.jsx)("i",{children:t.title})]});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{"data-testid":"details-btn",children:(0,p.jsx)(oi,{grey:!0,filled:!0,onClick:o,children:n("dvx.recommendations.services.learnMore")})}),(0,p.jsx)(Vt,{width:1e3,title:s,className:si,visible:a,onCancel:o,footer:(0,p.jsx)(pe.Z,{type:"primary",onClick:o,children:n("dvx.recommendations.modal.ok")}),children:(0,p.jsxs)(l.Z,{gutter:[0,16],children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(ni,{service:t,price:r})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Gi,{service:t,showListPrice:!1})})]})})]})},ui=function(e,t){return x.ZP.put("/api/internal/work_orders/"+e+"/cart",t)};function di(){di=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Z(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=y(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&r.call(m,i)&&(f=m);var x=p.prototype=d.prototype=Object.create(f);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(x,"constructor",p),s(p,"constructor",h),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),s(x,o,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function hi(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function pi(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){hi(a,n,i,o,s,"next",e)}function s(e){hi(a,n,i,o,s,"throw",e)}o(void 0)}))}}var fi=!0,vi=!1,mi=function(e){var t=e.id,r=e.template,n=e.price,i=e.inCartApproved,o=e.type,c=(0,ye.$)().t,d=(0,s.useState)(!1),h=d[0],f=d[1],v=(0,s.useState)(!1),x=v[0],j=v[1],g=m()[0].data,y=W()[1].updateTotals,w=F()[1].addRecommendationToCart,b=(0,a.UO)().workOrderId,Z=function(){var e=pi(di().mark((function e(){var r,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i!==fi){e.next=2;break}return e.abrupt("return");case 2:return f(!0),e.next=5,ui(b,{resource_type:o,resource_id:t,in_cart_approved:fi});case 5:if(r=e.sent,n=r.data,200===r.status){e.next=11;break}return f(!1),e.abrupt("return");case 11:y(n),w({id:t,type:o,approved:fi}),f(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=pi(di().mark((function e(){var r,n;return di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i!==vi){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.next=5,ui(b,{resource_type:o,resource_id:t,in_cart_approved:vi});case 5:if(r=e.sent,n=r.data,200===r.status){e.next=11;break}return j(!1),e.abrupt("return");case 11:y(n),w({id:t,type:o,approved:vi}),j(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(l.Z,{justify:"end",gutter:[8,8],children:[r&&(0,p.jsx)(u.Z,{children:(0,p.jsx)(li,{price:n,service:r})}),"invoice"!==(null==g?void 0:g.state)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(oi,{type:"danger",loading:x,disabled:h,declined:i===vi,ghost:i!==vi,onClick:_,children:c(i===vi?"dvx.recommendations.services.declined":"dvx.recommendations.services.decline")})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(oi,{type:"primary",loading:h,disabled:x,ghost:i===vi,added:i===fi,onClick:Z,children:c(i===fi?"dvx.recommendations.services.approved":"dvx.recommendations.services.approve")})})]})]})},xi=r(57903),ji={tag:"Z26SLjDHNJldEjSH0Zzr",formattedDateTime:"Vn7D_2qdHxiUUi04uCva",children:"fyMJkvHgmyy68HXc1gk2"},gi=pt().bind(ji),yi=function(e){var t=e.approved,r=e.at,n=e.children,i=e.className,a=(0,p.jsx)("span",{className:ji.formattedDateTime,children:(0,xi.B)(r).tz().format("L LT")});return(0,p.jsxs)(Ht.Z,{color:t&&"green",className:gi("tag",i),children:[(0,p.jsxs)("div",{className:ji.children,children:[n,","]}),(0,p.jsx)("div",{children:a})]})},wi="r3j3NxBvFHnWBzpKTz5P",bi="qrKroSFJ8Ifs818JiRot",Zi=function(e){var t=e.declined,r=e.approved,n=e.at,i=e.by,a=e.template,o=e.price,s=e.approvalType,c=(0,ye.$)().t;return(0,p.jsxs)(l.Z,{justify:"end",align:"middle",gutter:[8,8],children:[(0,p.jsx)(u.Z,{className:wi,flex:1,children:(0,p.jsxs)(yi,{approved:r,at:n,className:bi,children:[r&&c("dvx.recommendations.approval_label."+s,{by:i}),t&&c("dvx.recommendations.approval_label.declined",{by:i})]})}),a&&(0,p.jsx)(u.Z,{children:(0,p.jsx)(li,{price:o,service:a})})]})},_i=null,ki=!1,Pi=!0,Oi=function(e){var t=e.approved,r=e.approverName,n=e.approvedAt,i=e.approvalType,a=e.price,o=e.inCartApproved,s=e.type,c=e.id,l=e.template;return(0,p.jsxs)(p.Fragment,{children:[t===_i&&(0,p.jsx)(mi,{template:l,price:a,inCartApproved:o,type:s,id:c}),t===ki&&(0,p.jsx)(Zi,{declined:!0,by:r,at:n,template:l,price:a}),t===Pi&&(0,p.jsx)(Zi,{approved:!0,by:r,at:n,template:l,price:a,approvalType:i})]})},Li="UKp9q1XtvStgnJsTdf4w",Ei=mt.Z.Text,Ti=$.ZP.useBreakpoint,Ci=function(e){var t=e.id,r=e.description,n=e.price,i=e.template,a=e.inCartApproved,o=e.approved,s=e.approverName,c=e.approvedAt,d=e.approvalType,h=(0,ye.$)().t,f=(0,zr.U)().formatCurrency,v=Ti(),m=(0,p.jsx)(oi,{grey:!0,filled:!0,children:h("dvx.recommendations.services.learnMore")});return(0,p.jsx)("div",{className:Li,children:(0,p.jsxs)(l.Z,{wrap:!v.md,align:"middle",gutter:[16,8],children:[(0,p.jsx)(u.Z,{xs:24,md:12,children:(0,p.jsxs)(l.Z,{wrap:!1,justify:"space-between",gutter:16,children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(Ei,{children:r})}),(0,p.jsx)(u.Z,{children:(0,p.jsxs)(Ei,{children:[f(null!=n?n:0)," "]})})]})}),(0,p.jsx)(u.Z,{xs:24,md:12,children:(0,p.jsx)(l.Z,{justify:"end",children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(Oi,{id:t,price:n,template:i,inCartApproved:a,approved:o,approverName:s,approvedAt:c,detailsBtn:m,type:"Recommendation",approvalType:d})})})})]})})},Ni=ue.Z.Paragraph,Ii=function(e){var t=e.text,r=e.profile,n=e.datetime,i=e.recommendations,a=void 0===i?[]:i,o=e.attachments,s=void 0===o?[]:o,c=Boolean((null==s?void 0:s.length)||(null==a?void 0:a.length));return(0,p.jsx)(Vn,{children:(0,p.jsxs)(l.Z,{"data-testid":"note",gutter:[0,8],children:[(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Ni,{className:gn,children:(0,p.jsx)(jn.Z,{children:t})})}),r&&(0,p.jsx)(Jn,{profile:r,datetime:n}),c&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Qt,{})}),!(null==s||!s.length)&&(0,p.jsx)(Wn,{attachments:s}),!(null==a||!a.length)&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(l.Z,{gutter:[0,8],children:a.map((function(e){return(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Ci,{id:e.id,description:e.description,price:e.price,template:e.template,inCartApproved:e.in_cart_approved,approved:e.approved,approverName:e.approver_full_name,approvedAt:e.approval_at,approvalType:e.approval_type})},e.id)}))})})]})})},Si="ELKZVvtERGmY62Pa5ydg",Ri="OwowKk0h23Sx8MdHNc4f",zi=ue.Z.Text,Ai=function(e){var t=e.name,r=e.state,n=e.detail;return(0,p.jsx)(Tr.ZP.Item,{className:Ri+" "+r,children:(0,p.jsxs)(vt.Z,{align:"start",children:[(0,p.jsx)(xn,{className:Si}),(0,p.jsxs)(vt.Z,{direction:"vertical",children:[(0,p.jsx)(zi,{strong:"unchecked"!==r,children:t}),n&&(0,p.jsx)(Ii,{text:n})]})]})})},Bi=["inspections"];var Ui,Mi=function(e){var t=e.inspections,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,Bi),n=(0,ye.$)().t;return(0,s.createElement)(Vr,Object.assign({},r,{key:"inspections",header:n("dvx.services.sectionTitles.inspections")}),t.map((function(e){return(0,p.jsx)(Ai,{name:e.name,state:e.state,detail:e.detail},e.name)})))},Fi=["labors","parts","hazmats","sublets","inspections"],Gi=function(e){var t=e.service,r=e.showListPrice,n=Fi.filter((function(e){return!!t[e].length})),i=t.labors,a=t.labors_total_price,o=t.parts,s=t.parts_total_price,c=t.hazmats,l=t.hazmats_total_price,u=t.sublets,d=t.sublets_total_price,h=t.inspections;return(0,p.jsxs)(Er,{defaultActiveKey:n,children:[i.length&&(0,p.jsx)(cn,{labor:i,totalPrice:a},"labors"),o.length&&(0,p.jsx)(en,{parts:o,totalPrice:s,showListPrice:r},"parts"),c.length&&(0,p.jsx)(nn,{hazmats:c,totalPrice:l,showListPrice:r},"hazmats"),u.length&&(0,p.jsx)(pn,{sublets:u,totalPrice:d},"sublets"),h.length&&(0,p.jsx)(Mi,{inspections:h},"inspections")]})},Hi=r(14277);function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}var Wi=function(e){return s.createElement("svg",qi({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"1em",height:"1em",fill:"currentcolor"},e),Ui||(Ui=s.createElement("path",{d:"M486.506 122.781c-2.904-12.086-18.254-16.127-27.045-7.338L382.906 192h-84v-84l76.555-76.557c8.791-8.789 4.75-24.138-7.336-27.043-23.691-5.693-49.422-6.121-76.002.239-61.445 14.699-109.318 66.908-119.158 129.316-4.236 26.859-1.736 52.707 6.002 76.172L0 389.094c-28.125 28.125-28.125 73.687 0 101.812C14.062 504.969 32.469 512 50.906 512s36.844-7.031 50.906-21.094l178.969-178.968c23.465 7.736 49.311 10.238 76.17 6.003 62.408-9.839 114.615-57.712 129.317-119.158 6.359-26.58 5.931-52.31.238-76.002zM58.906 456c-13.254 0-24-10.746-24-24 0-13.256 10.746-24 24-24s24 10.744 24 24c0 13.254-10.746 24-24 24z"})))},$i="gPALcJKFv1OrxTSfvgjG",Vi="u7S7ZlW0RXh2muasCkVM",Di=ue.Z.Text,Yi=function(e){var t=e.workOrderState,r=(0,ye.$)().t,n=F()[0],i=n.data,a=n.loading,o=G()[0],s=o.data,c=o.loading,l=!!(null!=i&&i.length||null!=s&&s.length),u=a||c;return(0,p.jsx)(Hi.Z,{className:$i,description:"invoice"===t?r("dvx.services.empty.invoiceState"):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Di,{children:r("dvx.services.empty.default")}),u&&(0,p.jsx)(de.Z,{}),!u&&l&&(0,p.jsx)(Di,{children:r("dvx.services.empty.withRecs")})]}),image:(0,p.jsx)(Wi,{className:Vi})})},Qi="Z5fYh1z2Z3IosfFJsjIL",Ki="Evb__CbqfLgUhh5jDMcw",Xi=ue.Z.Text,Ji=ue.Z.Title,ea=function(e){var t=e.title,r=e.comment,n=e.index;return(0,p.jsxs)(vt.Z,{align:"start",className:Ki,children:[(0,p.jsxs)(Ji,{className:Qi,level:5,children:[n+1,"."]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(Ji,{level:5,children:t}),(0,p.jsx)(Xi,{children:r})]})]})},ta={service:"gHCEcEWIPe1WCBOnUmfI",panel:"SL9Mg3d37WjQaSwXxrPH",pending:"AeUuw34pVLzCexbZOKOP"},ra=Er.ExpandIcon,na=mt.Z.Title,ia=pt().bind(ta),aa=function(){var e=m()[0],t=e.data,r=e.loading,n=function(){var e=(0,s.useContext)(y);if(void 0===e)throw new Error("useServices must be used within a ServicesProvider");return e}(),i=n.data,a=n.loading,o=(0,zr.U)().formatCurrency,c=Cr().inspectionsCollapsedInWorkOrder,l="estimate"===(null==t?void 0:t.state),d="invoice"===(null==t?void 0:t.state),h=function(e){return!!l||!d&&(!!e.inspections.length&&!c)};return r||a?(0,p.jsx)(ut.Z,{active:!0}):t&&i?i.length?i.map((function(e,t){return(0,p.jsx)(u.Z,{xs:24,className:ta.service,children:(0,p.jsx)(Er,{defaultActiveKey:h(e)&&[e.id],expandIcon:function(e){return(0,p.jsx)(ra,Object.assign({style:{fontSize:18}},e))},children:(0,p.jsx)(Er.Panel,{className:ia("panel",{pending:!e.completed}),extra:(0,p.jsx)(na,{level:5,children:o(e.grand_total)}),header:(0,p.jsx)(ea,{title:e.title,comment:e.comment,index:t}),children:(0,p.jsx)(Gi,{service:e,showListPrice:!0})},e.id)})},e.id)})):(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Yi,{workOrderState:t.state})}):null},oa="aGtH2d1g5HY9aaKx7O2r",sa="h8WyeQDEjl_9ujZ1nOY5",ca="QW186kZA4G0Qa7EHU99s",la="JQq7SNHrIWcXb8HFuJDK",ua="bloFkHsBHjxpwOmLwGfD",da=ue.Z.Text,ha=ue.Z.Link,pa=function(e){var t,r,n=e.id,i=e.description,o=e.price,c=e.noteId,d=e.showNoteLink,h=void 0===d||d,f=e.template,v=e.inCartApproved,x=void 0===v?null:v,j=e.approved,g=e.approverName,y=e.approvedAt,w=e.approvalType,b=e.type,Z=(0,ye.$)().t,_=(0,zr.U)().formatCurrency,k=(0,a.TH)(),P=(0,s.useState)(),O=P[0],L=P[1],E=m()[0].data,T="Recommendation"===b,C="in_progress"===(null==E?void 0:E.state)||!1,N=T&&C&&null===x;(0,s.useEffect)((function(){var e;null!=(e=k.state)&&e.highlight&&N&&L(!0)}),[null==(t=k.state)?void 0:t.highlight,N]),(0,s.useEffect)((function(){N||L(!1)}),[N]);var I=(0,p.jsxs)(p.Fragment,{children:[!!h&&(0,p.jsx)("div",{className:la,children:(0,p.jsx)(l.Z,{wrap:!1,justify:"end",gutter:16,children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(ha,{href:"#note-"+c,children:Z("dvx.recommendations.services.noteLink")})})})}),(0,p.jsx)("div",{className:ca,children:(0,p.jsxs)(l.Z,{wrap:!1,justify:"space-between",gutter:16,children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(vt.Z,{align:"start",size:2,children:(0,p.jsxs)("span",{children:[i," ",N&&"*"]})})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(vt.Z,{className:ua,direction:"vertical",size:0,children:(0,p.jsx)(da,{children:_(null!=o?o:0)})})})]})})]});return(0,p.jsx)(yn.Z,{size:"small",className:jr()(oa,(r={},r[sa]=O,r)),title:I,hoverable:!0,children:(0,p.jsx)(Oi,{id:n,price:o,template:f,inCartApproved:x,approved:j,approverName:g,approvedAt:y,approvalType:w,type:b})})},fa=ue.Z.Text,va=function(e){var t=e.title,r=e.recs,n=e.type,i=e.showNoteLink,a=void 0===i||i;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Qt,{children:(0,p.jsx)(fa,{strong:!0,children:t})})}),(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Tr.ZP,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:2,xxl:2},dataSource:r,renderItem:function(e){return(0,p.jsx)(Tr.ZP.Item,{children:(0,p.jsx)(pa,{id:e.id,description:e.description,noteId:e.note_id,price:e.price,template:e.template,inCartApproved:e.in_cart_approved,showNoteLink:a,approved:e.approved,approverName:e.approver_full_name,approvedAt:e.approval_at,approvalType:e.approval_type,type:n})})}})})]})},ma="xMMUerCJbA6V_NDBY9yO",xa="_WOVKHM_BAgOxoOPws5D",ja="pYqoxPXz_fhmOZRRsXGA",ga=function(e){return(0,p.jsxs)(Vn,{children:[e.title&&(0,p.jsx)("div",{className:ja,children:e.title}),(0,p.jsx)(Hi.Z,Object.assign({className:ma,image:(0,p.jsx)(Wi,{className:xa})},e))]})},ya="Aam3ngICJO3siuND2h4G",wa="VP9NV_yNU9YZV2mY9N9V",ba=mt.Z.Text,Za=Er.Panel,_a=Er.ExpandIcon,ka=function(){var e,t,r,n,i=(0,ye.$)().t,a=m()[0],o=a.data,s=a.loading,c=F()[0],d=G()[0];if(s)return(0,p.jsx)(ut.Z,{active:!0});if(!o)return null;var h=(null==(e=c.data)?void 0:e.length)||(null==(t=d.data)?void 0:t.length),f="estimate"===o.state,v="in_progress"===o.state&&c.anyPendingRecs(),x=(0,p.jsx)(ba,{id:"recommendations-summary",strong:!0,children:i("dvx.recommendations.services.title").toUpperCase()});return h?(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(Vn,{className:wa,children:(0,p.jsx)(Er,{ghost:!0,defaultActiveKey:f?"":"body-panel",expandIconPosition:"right",expandIcon:function(e){return(0,p.jsx)(_a,Object.assign({style:{fontSize:18}},e))},children:(0,p.jsxs)(Za,{header:x,children:[v&&(0,p.jsx)(ba,{className:ya,children:"* "+i("dvx.recommendations.services.subtitle")}),(0,p.jsxs)(l.Z,{gutter:[0,16],children:[!(null==(r=c.data)||!r.length)&&(0,p.jsx)(va,{title:i("dvx.recommendations.services.currentRecs").toUpperCase(),recs:c.data,type:"Recommendation"}),!(null==(n=d.data)||!n.length)&&(0,p.jsx)(va,{title:i("dvx.recommendations.services.pastRecs").toUpperCase(),recs:d.data,showNoteLink:!1,type:"PastRecommendation"})]})]},"body-panel")})})}):(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(ga,{title:x,description:i("dvx.recommendations.services.empty")})})},Pa="MMoAcPcGXeXLbnotbfN0",Oa="WBUIqZvvNhCNWD7WgYmn",La=ue.Z.Title,Ea=function(){var e=(0,ye.$)().t,t=(0,a.UO)().workOrderId,r=ee().reviewRecsRef,n=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/notes").then((function(e){return e.data}))}(t)})),i=n[0],o=i.data,c=i.loading,h=F()[0],f=h.data,v=h.loading,m=G()[0],j=m.data,g=m.loading,y=(0,s.useMemo)((function(){return f?f.reduce((function(e,t){var r;return e[t.note_id]=[].concat(null!=(r=e[t.note_id])?r:[],[t]),e}),{}):null}),[f]),w=v||g||c;return!((null==f?void 0:f.length)||(null==j?void 0:j.length)||(null==o?void 0:o.length))||w?null:(0,p.jsxs)(u.Z,{xs:24,ref:r,children:[(0,p.jsx)("div",{className:Pa,children:(0,p.jsx)(La,{id:"review-recommendations",level:4,children:e("dvx.recommendations.findings")})}),(0,p.jsxs)(l.Z,{gutter:[0,16],className:Oa,children:[null==o?void 0:o.map((function(e){var t,r,n=null==(t=e.profile)?void 0:t.short_name,i=null==(r=e.profile)?void 0:r.type;return(0,p.jsx)(u.Z,{id:"note-"+e.id,xs:24,children:(0,p.jsx)(Ii,{text:e.text,profile:{name:n,isCustomer:"Customer"===i},datetime:e.published_at_date,recommendations:y[e.id],attachments:e.attachments})},e.id)})),(0,p.jsx)(ka,{recs:f,pastRecs:j})]})]})},Ta="tVI6xCesw_8guv_hE41U";var Ca=function(){var e=(0,ye.$)().t,t=(0,re.W)().currentShop,r=W()[0].data;return!t.payment_360_remote_enabled||(null==r?void 0:r.invoice_totals.balance_due)<=0?null:(0,p.jsx)(i.rU,{to:"checkout",children:(0,p.jsx)(pe.Z,{type:"success",size:"large",block:!0,children:e("dvx.totals.checkout")})})},Na="MAHHZ8SPJMLOs31KSvTy",Ia="paoPyauDpmsSjLD4okhQ",Sa="qgu4bLSQdgYVgwUbQfcQ",Ra=Object.assign({},qe.Z,{success:function(e){return qe.Z.success(Object.assign({},e,{icon:(0,p.jsx)(xn,{style:{fontSize:18,color:Ot.bX}})}))},info:function(e){return qe.Z.info(Object.assign({},e,{icon:(0,p.jsx)(Ut,{style:{fontSize:18,color:Ot.i7}})}))}}),za=function(e){var t=e.approvalButton,r=e.children,n=(0,ye.$)().t,i=ee().state,a=F()[0],o=G()[0],s=m()[0].data,c=a.anyPendingRecs()||o.anyPendingRecs();return s?c&&i.action===Y?(0,p.jsx)(mt.Z.Link,{href:"#review-recommendations",children:(0,p.jsx)(pe.Z,{type:"primary",block:!0,size:"large",children:n("dvx.sticky_bars.review_recs")})}):i.action!==K?(0,p.jsx)(pe.Z,{type:"primary",block:!0,onClick:function(){if(!s.approved_at)return"#tos-title"===window.location.hash?(window.location.hash="#tos-agreement-checkbox",void document.getElementById("tos-title").click()):void(window.location.hash="#tos-title");window.scrollTo(0,document.body.scrollHeight)},size:"large",children:r}):t:null};function Aa(){Aa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new Z(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return k()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=y(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var u={};function d(){}function h(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&r.call(m,i)&&(f=m);var x=p.prototype=d.prototype=Object.create(f);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(x,"constructor",p),s(p,"constructor",h),h.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(g.prototype),s(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new g(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},j(x),s(x,o,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;b(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ba(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}var Ua=function(e){var t=e.approvalType,r=e.disabled,n=e.signature,i=e.onMouseEnter,a=e.children,o=(0,ye.$)().t,c=(0,re.W)().currentShop,l=m(),d=l[0].data,h=l[1].updateWorkOrder,f=W()[1].fetchTotals,v=F()[1].fetchRecommendations,j=G()[1].fetchPastRecommendations,g=$.ZP.useBreakpoint(),y=(0,s.useState)(!1),w=y[0],b=y[1];if(!d)return null;var Z=function(){var e,r=(e=Aa().mark((function e(){var r;return Aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i={work_order_id:d.id,signature:n&&n.replace("data:image/png;base64,","")+"=="},x.ZP.post("/api/internal/work_orders/"+i.work_order_id+"/approvals",i).then((function(e){return e.data}));case 3:r=e.sent,Ra.success({key:r.id,message:o("dvx.estimate_approval.success_message."+t,{shop:null==c?void 0:c.name}),duration:3}),h(r),f(),v(),j(),b(!1);case 10:case"end":return e.stop()}var i}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Ba(a,n,i,o,s,"next",e)}function s(e){Ba(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),_=g.lg,k=(0,p.jsx)(u.Z,{span:24,onMouseEnter:i,children:(0,p.jsx)(pe.Z,{onClick:Z,disabled:r,loading:w,block:!0,size:"large",type:"success",children:a})});return _?k:(0,p.jsx)(za,{approvalButton:k,children:a})},Ma=function(){var e=(0,ye.$)().t,t=(0,s.useRef)(0),r=(0,a.s0)(),n=(0,a.TH)().search,i=e("dvx.totals.approved_and_declined_recommendations.approve_recommendations");return(0,p.jsx)(pe.Z,{type:"primary",size:"large",block:!0,multiline:!0,onClick:function(){t.current++,window.location.hash="#recommendations-summary",r(n+"#recommendations-summary",{state:{highlight:t.current>1},search:n});setTimeout((function(){return r(n,{state:null})}),2e3)},children:i})},Fa="mOvls82ICyPxdVwp9oGp",Ga=function(){return(0,p.jsxs)("div",{className:Fa,children:[(0,p.jsx)("div",{id:"grand-total-holder"}),(0,p.jsx)("div",{id:"cta-button-holder"})]})};Ga.CTAButtonPortal=function(e){return n.createPortal(e.children,document.getElementById("grand-total-holder"))},Ga.GrandTotalPortal=function(e){return n.createPortal(e.children,document.getElementById("grand-total-holder"))};var Ha=Ga,qa=["type"];var Wa=function(e){var t=e.type,r=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,qa),n=function(){return"invoice"===t?(0,p.jsx)(Ca,Object.assign({},r)):"review"===t?(0,p.jsx)(Ma,Object.assign({},r)):(0,p.jsx)(Ua,Object.assign({},r))};return $.ZP.useBreakpoint().lg?(0,p.jsx)("div",{className:Sa,children:n()}):(0,p.jsx)(Ha.CTAButtonPortal,{children:(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsx)(u.Z,{xs:24,className:Na,children:(0,p.jsx)("div",{className:Ia,children:n()})})})})};Wa.Approval=function(e){return(0,p.jsx)(Wa,Object.assign({type:"approval"},e))},Wa.Invoice=function(e){return(0,p.jsx)(Wa,Object.assign({type:"invoice"},e))},Wa.ReviewRecs=function(e){return(0,p.jsx)(Wa,Object.assign({type:"review"},e))};var $a=Wa,Va=$.ZP.useBreakpoint,Da=function(e){var t=e.canvasRef,r=e.width,n=Va().lg?370:190;return(0,p.jsx)("canvas",{"data-testid":"canvas",ref:t,width:r,height:n})};var Ya=function(){var e=(0,s.useRef)(),t=(0,s.useRef)(),r=(0,s.useState)(!1),n=r[0],i=r[1],a=function(t,r){var n=function(t){var r=e.current.canvas.getBoundingClientRect();return{x:t.clientX-r.left,y:t.clientY-r.top}}(t);r?(e.current.lineTo(n.x,n.y),e.current.stroke()):e.current.beginPath(),e.current.moveTo(n.x,n.y)},o=function(e){e.preventDefault();var r=e.changedTouches[0];t.current=!0,i(!0),a(r)},c=function(e){t.current=!0,i(!0),a(e)},l=function(e){t.current&&a(e,!0)},u=function(e){if(t.current){e.preventDefault();var r=e.targetTouches[0];a(r,!0)}},d=function(){t.current=!1};return{canvasRef:(0,s.useCallback)((function(t){if(t){var r=t.getContext("2d");r.lineJoin="round",r.lineWidth=2,e.current=r,r.canvas.style.touchAction="none",function(e){e.canvas.addEventListener("mousedown",c),e.canvas.addEventListener("mousemove",l),document.addEventListener("mouseup",d),e.canvas.addEventListener("touchstart",o),e.canvas.addEventListener("touchmove",u),e.canvas.addEventListener("touchend",d)}(r)}}),[]),save:function(){return e.current.canvas.toDataURL("image/png")},clear:function(){e.current.clearRect(0,0,e.current.canvas.width,e.current.canvas.height),i(!1)},hasDrawn:n}},Qa="qI46eVeCYEH3jJ74nHmT",Ka="Jri0GTN0Z2WVMFT2GppE",Xa="_9hGZP1EOgV9t4IdcQZLE",Ja="x4Px2dBC5lb3wkc429F6",eo=ue.Z.Text,to=$.ZP.useBreakpoint,ro=s.forwardRef((function(e,t){var r=e.onChange,n=e.signature,i=e.error,a=(0,ye.$)().t,o=to(),s=(0,Mt.O)(!1),c=s[0],d=s[1],h=Ya(),f=h.canvasRef,v=h.save,m=h.clear,x=h.hasDrawn,j=(o.lg?700:o.md&&520)||300;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(u.Z,{span:24,children:[(0,p.jsx)(Vn,{className:Ka,dashed:!0,hasError:!!i,children:(0,p.jsx)(l.Z,{id:"signature-box",className:Xa,justify:"center",align:"middle",onClick:d,"data-testid":"signature-box",ref:t,children:(0,p.jsxs)(u.Z,{children:[!n&&(0,p.jsxs)(vt.Z,{className:Ja,direction:"vertical",size:0,children:[(0,p.jsx)(eo,{strong:!0,children:a("dvx.estimate_approval.signature_box")}),(0,p.jsx)(eo,{type:"secondary",children:a("dvx.estimate_approval.click_sign")})]}),n&&(0,p.jsx)("img",{src:n,height:76,width:"auto"})]})})}),i]}),(0,p.jsx)(Vt,{title:a("dvx.estimate_approval.draw_signature"),width:j,visible:c,className:Qa,onCancel:d,footer:(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsxs)(u.Z,{children:[(0,p.jsx)(pe.Z,{onClick:function(){m(),r(null)},children:a("dvx.estimate_approval.clear")}),(0,p.jsx)(pe.Z,{type:"primary",onClick:function(){var e=v();r(e),d()},disabled:!x,children:a("dvx.estimate_approval.done")})]})}),children:(0,p.jsx)(Da,{width:j,canvasRef:f})})]})})),no=ue.Z.Text,io=function(e){var t=e.signatureRequired,r=(0,ye.$)().t,n=(0,s.useState)(),i=n[0],a=n[1],o=ee().approvalAreaRef,c=(0,s.useState)(!1),u=c[0],d=c[1],h=(0,s.useRef)(null),f=F()[0];function v(){d(!0)}var x=r("dvx.totals.work_order.approve"),j=r("dvx.totals.work_order.confirm"),g=f.anyApprovedRecsInCart()?x:j;!function(e){var t=e.approvalButtonText,r=e.onClose,n=(0,ye.$)().t,i=m()[0].data,a=F()[0],o=a.everyRecsInCart(),c="in_progress"===(null==i?void 0:i.state),l=!a.anyUnapprovedRecs();(0,s.useEffect)((function(){if(c&&o&&!l){var e=n("dvx.totals.approved_and_declined_recommendations.additional_step_required",{buttonText:t});Vt.info({closable:!1,okText:n("common.ok"),content:(0,p.jsx)(ue.Z.Paragraph,{className:Ta,"data-testid":"additional-step-required-modal",children:e}),afterClose:function(){window.location.hash="#signature-box",r()}})}}),[c,o,l,t])}({approvalButtonText:g,onClose:v});var y=!i&&u,w=(0,p.jsx)(no,{type:"danger",children:r("dvx.estimate_approval.required")});return(0,p.jsxs)(l.Z,{gutter:[0,24],"data-testid":"approval",ref:o,children:[t&&(0,p.jsx)(ro,{signature:i,onChange:a,error:y?w:"",ref:h}),(0,p.jsx)($a.Approval,{approvalType:"recommendation",disabled:t&&!i,signature:i,onMouseEnter:v,children:g})]})},ao=ue.Z.Text,oo=function(e){var t=e.label,r=e.children,n=e.strong;return(0,p.jsxs)(l.Z,{justify:"space-between",style:{width:"100%"},wrap:!1,children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(ao,{strong:n,children:t})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(ao,{strong:n,children:r})})]})},so="P5b8gxmrJal0OEq8C5uU",co=function(e){var t=e.children,r=e.className;return(0,p.jsx)(Tr.ZP.Item,{className:jr()(so,r),children:t})},lo="LEn8GMQDHpf0rsTqQmFl",uo=function(e){var t=e.children;return(0,p.jsx)(Er,{ghost:!0,className:lo,expandIconPosition:"left",children:t})};uo.Panel=Er.Panel;var ho=uo,po=ho.Panel,fo=function(e){var t=e.label,r=e.items,n=e.children;return(0,p.jsx)(ho,{children:(0,p.jsx)(po,{header:(0,p.jsx)(oo,{strong:!0,label:t,children:n}),children:(0,p.jsx)(Tr.ZP,{size:"small",dataSource:r,renderItem:function(e){return(0,p.jsx)(co,{children:(0,p.jsx)(oo,{label:e.label,children:e.value})})}})})})},vo="EQXe8BEuGvfDc7vTcq7D",mo=$.ZP.useBreakpoint,xo=function(e){var t=e.header,r=e.children,n=e.footer,i=mo();return(0,p.jsx)(Tr.ZP,{bordered:i.lg,className:vo,header:t,footer:n,children:r})};xo.CollapsibleItem=fo,xo.ItemWrapper=co,xo.Item=oo;var jo=xo,go="DO4SZBEB2Xf57ysUF_xB",yo=function(e){var t=e.grandTotal,r=(0,ye.$)().t,n=$.ZP.useBreakpoint(),i=(0,zr.U)().formatCurrency,a=(0,s.useState)(),o=a[0],c=a[1],l=(0,p.jsx)(jo.Item,{strong:!0,label:r("dvx.totals.total"),children:i(t)});return n.lg?l:(0,p.jsxs)(dt.Z,{offsetBottom:0,onChange:c,children:[o&&(0,p.jsx)(Ha.GrandTotalPortal,{children:(0,p.jsx)(ue.Z.Link,{href:"#financials-section",children:(0,p.jsx)("div",{className:go,children:l})})}),!o&&l]})};function wo(){var e=(0,ye.$)().t,t=(0,zr.U)().formatCurrency,r=["labors","parts","hazmats","sublets"],n=function(r,n){return{label:e("dvx.totals."+n),value:t(r[n+"_total_price"])}};return function(e,t){return(void 0===t?{filterZeroes:!1}:t).filterZeroes?r.filter((function(t){return!!Number(e[t+"_total_price"])})).map((function(t){return n(e,t)})):r.map((function(t){return n(e,t)}))}}var bo,Zo=r(85444),_o=mt.Z.Link,ko=mt.Z.Text,Po=function(){var e=(0,ye.$)().t,t=$.ZP.useBreakpoint(),r=F()[0],n=r.inCartRecommendations.length,i=r.inCartApprovedRecommendations.length,a=r.inCartDeclinedRecommendations.length,o=r.unapprovedRecommendations.length,s=t.md?"desktop":"mobile";return(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsxs)(_o,{href:"#recommendations-summary",underline:!0,children:[r.anyRecsInCart()&&(0,p.jsx)(ko,{inheritColor:!0,"data-testid":"recommendation-link-text",children:(0,p.jsx)(Zo.c,{i18nKey:"dvx.totals.approved_and_declined_recommendations."+s,values:{approved:i,declined:a}})}),!r.anyRecsInCart()&&(0,p.jsx)(ko,{inheritColor:!0,children:e("dvx.totals.current_recommendations")}),(0,p.jsxs)(ko,{strong:!0,inheritColor:!0,children:[" ","(",n,"/",o,")"]})]})})},Oo=function(e){var t=e.recommendations,r=(0,ye.$)().t,n=Cr().noSubtotals,i=W()[0].data,a=$.ZP.useBreakpoint(),o=(0,zr.U)().formatCurrency,c=wo(),l=function(e){return[{label:e.template.title}].concat(c(e.template,{filterZeroes:!0}))},u=(0,s.useMemo)((function(){return t.flatMap(l)}),[t]),d=a.md?r("dvx.totals.additional_recs"):r("dvx.totals.additional_recs_mobile");return n?(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsx)(jo.Item,{strong:!0,label:d,children:o(i.cart_totals.total_price_with_supply_fees)})}):(0,p.jsx)(jo.CollapsibleItem,{label:d,items:u,children:o(i.cart_totals.total_price)})},Lo="syqgArkTRb4j1m2GC68g",Eo=function(){var e=G()[0],t=F()[0];if(t.loading||e.loading)return null;var r=e.inCartApprovedRecommendations.concat(t.inCartApprovedRecommendations).filter((function(e){return!!e.template}));return r.length||t.anyUnapprovedRecs()?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:Lo}),t.anyUnapprovedRecs()&&(0,p.jsx)(Po,{}),!!r.length&&(0,p.jsx)(Oo,{recommendations:r}),(0,p.jsx)("div",{className:Lo})]}):null},To=function(e){var t=e.total,r=e.labor,n=e.parts,i=(0,ye.$)().t,a=(0,zr.U)().formatCurrency,o=Cr().noSubtotals,s=[{label:i("dvx.totals.discount.labor"),value:"("+a(r)+")"},{label:i("dvx.totals.discount.parts"),value:"("+a(n)+")"}];return Number(t)?o?(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsxs)(jo.Item,{strong:!0,label:i("dvx.totals.discount.total"),children:["(",a(t),")"]})}):(0,p.jsxs)(jo.CollapsibleItem,{label:i("dvx.totals.discount.total"),items:s,children:["(",a(t),")"]}):null},Co=function(e){var t=e.type,r=e.header,n=e.totalsPriceLabel,i=e.grandTotal,a=e.taxTotal,o=e.supplyFeesTotal,s=e.discountType,c=void 0===s?t:s,l=(0,ye.$)().t,u=W()[0].data,d=(0,re.W)().currentShop,h=m()[0].data,f=Cr().noSubtotals,v=(0,zr.U)().formatCurrency,x=wo(),j=F()[0];if(!j.data||!h||j.loading)return null;var g=u[t],y=g.tax_total,w=g.grand_total,b=g.total_price,Z=g.total_price_with_supply_fees,_=g.supply_fee,k=u[c],P=k.total_discount,O=k.labors_discount,L=k.parts_discount,E=i||w,T=a||y,C=!f,N=x(u[t]);return(0,p.jsxs)(jo,{header:r,footer:(0,p.jsx)(yo,{grandTotal:E}),children:[f&&(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsx)(jo.Item,{strong:!0,label:n,children:v(Z)})}),C&&(0,p.jsx)(jo.CollapsibleItem,{label:n,items:N,children:v(b)}),"invoice"!==h.state&&(0,p.jsx)(Eo,{}),C&&(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsx)(jo.Item,{label:d.supply_fee_name+":",children:v(o||_)})}),(0,p.jsx)(To,{total:P,labor:O,parts:L}),(0,p.jsx)(jo.ItemWrapper,{children:(0,p.jsx)(jo.Item,{strong:!0,label:l("dvx.totals.tax"),children:v(T)})})]})},No=mt.Z.Text,Io=function(e){var t=e.amount,r=e.date,n=e.transactionLabel,i=e.transactionIdCopy,a=(0,zr.U)().formatCurrency;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{justify:"space-between",wrap:!1,children:[(0,p.jsx)(u.Z,{children:n}),(0,p.jsx)(u.Z,{children:(0,p.jsxs)(No,{strong:!0,children:["(",a(Math.abs(t)),")"]})})]}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(u.Z,{children:(0,p.jsxs)(vt.Z,{direction:"vertical",size:0,children:[(0,p.jsx)(No,{type:"secondary",children:r}),i&&(0,p.jsx)(No,{small:!0,type:"secondary",children:i})]})})})]})},So=mt.Z.Text,Ro=function(e){var t=e.item,r=(0,ye.$)().t,n=(0,zr.U)().formatCurrency,i=t.amount,a=t.created_at_date,o=t.voided_payment_transaction,s=t.payment_transaction,c=t.payment_type;return o?(0,p.jsx)(Io,{transactionLabel:r("dvx.totals.void_cc"),transactionIdCopy:r("dvx.totals.void_transaction_id",{id:o.reference_number}),amount:i,date:a}):null!=s&&s.is_refund?(0,p.jsx)(Io,{transactionLabel:r("dvx.totals.refund_cc"),transactionIdCopy:r("dvx.totals.refund_transaction_id",{id:s.reference_number}),amount:i,date:a}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(l.Z,{justify:"space-between",wrap:!1,children:[(0,p.jsx)(u.Z,{children:r("dvx.totals.paid_by",{paymentType:c})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(So,{strong:!0,children:n(i)})})]}),(0,p.jsx)(l.Z,{children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(So,{type:"secondary",children:a})})}),s&&(0,p.jsx)(l.Z,{children:(0,p.jsx)(u.Z,{children:(0,p.jsxs)(vt.Z,{direction:"vertical",size:0,children:[(0,p.jsxs)(So,{small:!0,type:"secondary",children:[s.name," ",s.masked_card_number]}),(0,p.jsx)(So,{small:!0,type:"secondary",children:r("dvx.totals.transaction_id",{id:s.reference_number})})]})})})]})},zo="uV_6XQsLLQATVPfFGvaH",Ao="l3o_1jgxoyKtcJXQ3yM2",Bo=mt.Z.Text,Uo=function(){var e=(0,a.UO)().workOrderId,t=(0,d.Z)((function(){return function(e){return(0,x.ZP)("/api/internal/work_orders/"+e+"/payments").then((function(e){return e.data}))}(e)})),r=t[0].data;return null!=r&&r.length?(0,p.jsx)(Tr.ZP,{className:zo,bordered:!0,itemLayout:"vertical",dataSource:r,renderItem:function(e){return(0,p.jsxs)(Tr.ZP.Item,{className:Ao,children:[(0,p.jsx)(Ro,{item:e}),e.notes&&(0,p.jsx)(l.Z,{children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(Bo,{small:!0,type:"secondary",children:e.notes})})})]})}}):null},Mo="TrceVjC98cs3A8BTNd1U",Fo=mt.Z.Paragraph,Go=mt.Z.Title,Ho=function(){var e=(0,ye.$)().t,t=oe().tos;return(0,p.jsx)(Vn,{children:(0,p.jsxs)("div",{className:Mo,children:[(0,p.jsx)(Go,{level:5,id:"tos-title",children:e("dvx.estimate_approval.terms_of_service")}),(0,p.jsx)(Fo,{style:{whiteSpace:"pre-line"},children:t})]})})},qo="MkYuFXaKOTB0EYDe2ibI",Wo=ho.Panel,$o=mt.Z.Text,Vo=function(){var e=(0,ye.$)().t;return(0,p.jsx)(ho,{children:(0,p.jsx)(Wo,{header:(0,p.jsx)($o,{strong:!0,children:e("dvx.totals.terms_of_service")}),children:(0,p.jsx)("div",{className:qo,children:(0,p.jsx)(Ho,{})})})})},Do=r(9676),Yo=ue.Z.Text,Qo=function(e){var t=e.approved,r=e.onChange,n=e.error,i=(0,ye.$)().t,a=(0,re.W)().currentProfile;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Ho,{})}),(0,p.jsxs)(u.Z,{span:24,children:[(0,p.jsx)(Vn,{hasError:!!n,children:(0,p.jsxs)(Do.Z,{id:"tos-agreement-checkbox",checked:t,onChange:function(e){return r(e.target.checked)},"data-testid":"tos-agreement-checkbox",children:[i("dvx.estimate_approval.agreement_part_one"),(0,p.jsx)(Yo,{strong:!0,children:a.full_name}),i("dvx.estimate_approval.agreement_part_two")]})}),n]})]})},Ko="hj2BmIOV31vdm2QkOXFw",Xo="QzjGW4VFa6ViNConS3NA",Jo="jXCtKzlTuHXSbV6Zl8R1",es=ue.Z.Text,ts=ue.Z.Title,rs=function(){var e=(0,ye.$)().t,t=ee().approvalAreaRef,r=(0,s.useState)(!1),n=r[0],i=r[1],a=(0,s.useState)(),o=a[0],c=a[1],d=(0,s.useState)(!1),h=d[0],f=d[1],v=!o&&h,m=!n&&h,x=(0,p.jsx)(es,{className:Jo,children:e("dvx.estimate_approval.required")});return(0,p.jsx)(l.Z,{gutter:[0,24],onClick:function(){return f(!0)},children:(0,p.jsx)(u.Z,{xs:24,"data-testid":"estimate-approval",children:(0,p.jsx)(jo,{header:(0,p.jsx)(ts,{level:4,children:e("dvx.estimate_approval.title")}),children:(0,p.jsx)(Tr.ZP.Item,{className:Ko,children:(0,p.jsxs)(l.Z,{gutter:[0,8],className:Xo,children:[(0,p.jsx)(Qo,{approved:n,onChange:i,error:m?x:""}),(0,p.jsx)(u.Z,{span:24,ref:t,children:(0,p.jsxs)(l.Z,{gutter:[0,8],children:[(0,p.jsx)(ro,{signature:o,onChange:c,error:v?x:""}),(0,p.jsx)($a.Approval,{approvalType:"estimate",disabled:!o||!n,signature:o,onMouseEnter:function(){return f(!0)},children:e("dvx.estimate_approval.approve_estimate")})]})})]})})})})})},ns="cn3dzxwKM5GhiFR5bz53",is="AaZ4AgppjrieQyCep1xC",as=ue.Z.Title,os=function(){var e=(0,ye.$)().t,t=W()[0].data,r=(0,re.W)().currentProfile,n=m()[0].data,i=F()[0],a=G()[0];if(!n)return null;var o=i.anyRecsInCart()||a.anyRecsInCart();return(0,p.jsxs)(l.Z,{gutter:[0,16],children:[(0,p.jsxs)(u.Z,{xs:24,children:[(0,p.jsx)(Co,{header:(0,p.jsx)(as,{level:4,children:e("dvx.totals.title.estimate")}),type:"approved_totals",totalsPriceLabel:e("dvx.totals.estimated_amount"),grandTotal:t.estimated_totals.grand_total,taxTotal:t.estimated_totals.tax_total,supplyFeesTotal:t.estimated_totals.supply_fee,discountType:"estimated_totals"}),(0,p.jsx)(Uo,{})]}),n.approved_at&&!o&&(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(yi,{approved:!0,at:n.approved_at,className:is,children:e("dvx.totals.approval_label",{by:r.full_name})})})})}),!n.approved_at&&(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)(rs,{})}),o&&n.approved_at&&(0,p.jsx)(u.Z,{xs:24,children:(0,p.jsx)("div",{className:ns,children:(0,p.jsx)(io,{signatureRequired:!0})})}),n.approved_at&&(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Vo,{})})]})};function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(this,arguments)}var cs=function(e){return s.createElement("svg",ss({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"1em",height:"1em",fill:"currentcolor"},e),bo||(bo=s.createElement("path",{d:"M544 256c0-36.5-18.75-68.375-46.75-86.75 6.875-32.875-2.625-68.625-28.25-94.25-25.625-25.75-61.5-35.125-94.25-28.25C356.25 18.75 324.25 0 288 0s-68.25 18.75-86.75 46.75C168.375 39.875 132.625 49.375 107 75c-25.75 25.625-35.125 61.5-28.25 94.25C50.625 187.75 32 219.75 32 256s18.75 68.25 46.75 86.75C71.875 375.625 81.375 411.375 107 437c25.625 25.75 61.25 35.125 94.25 28.25C219.75 493.375 251.75 512 288 512c36.375 0 68.25-18.75 86.75-46.75 33 6.875 68.625-2.625 94.25-28.25 25.75-25.625 35.125-61.5 28.25-94.25C525.375 324.25 544 292.25 544 256zm-158.762-39.031l-112 112C268.551 333.656 262.41 336 256.27 336s-12.282-2.344-16.969-7.031l-48-48c-9.375-9.375-9.375-24.563 0-33.938s24.562-9.375 33.937 0l31.032 31.031 95.031-95.031c9.375-9.375 24.562-9.375 33.937 0s9.375 24.563 0 33.938z"})))},ls={balance:"H999GiRj5cCj32fQPmhh",paid:"AfuT_o1j6cHIt_k_yAAT",icon:"oceh6x9YHbozW5g2hGQX"},us=pt().bind(ls),ds=mt.Z.Text,hs=mt.Z.Title,ps=function(e){var t=e.due,r=(0,ye.$)().t,n=(0,zr.U)().formatCurrency,i=function(e,t){return(0,p.jsxs)(l.Z,{className:us("balance",e),justify:"space-between",children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(ds,{strong:!0,children:r("dvx.totals.balance."+e)})}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(ds,{strong:!0,children:n(Math.abs(t))})})]})};return t>0?i("due",t):t<0?i("credit",t):(0,p.jsx)(l.Z,{justify:"center",children:(0,p.jsx)(u.Z,{className:ls.paid,children:(0,p.jsxs)(vt.Z,{align:"center",size:12,children:[(0,p.jsx)("div",{className:ls.icon,children:(0,p.jsx)(cs,{style:{fontSize:40}})}),(0,p.jsx)(hs,{inheritColor:!0,level:4,className:ls.paidText,children:r("dvx.totals.balance.paid")})]})})})},fs="j1NzVQ4PnnWGrHy7ExYI",vs=ue.Z.Title,ms=function(){var e=(0,ye.$)().t,t=W()[0].data;if(!t)return null;var r=t.invoice_totals.balance_due;return(0,p.jsxs)(l.Z,{gutter:[0,24],children:[(0,p.jsxs)(u.Z,{xs:24,children:[(0,p.jsx)(Co,{header:(0,p.jsx)(vs,{level:4,children:e("dvx.totals.title.invoice")}),type:"invoice_totals",totalsPriceLabel:e("dvx.totals.approved_amount")}),(0,p.jsx)(Uo,{}),(0,p.jsx)("div",{className:fs,children:(0,p.jsx)(ps,{due:r})})]}),(0,p.jsx)($a.Invoice,{}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Vo,{})})]})},xs=ue.Z.Title,js=function(){var e=(0,ye.$)().t,t=$.ZP.useBreakpoint(),r=W()[0].data,n=ee().approvalAreaRef,i=F()[0],a=G()[0],o=i.anyPendingRecs(),s=i.anyRecsInCart()||a.anyRecsInCart();return r?(0,p.jsxs)(l.Z,{gutter:[0,t.lg?24:8],children:[(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Co,{header:(0,p.jsx)(xs,{level:4,children:e("dvx.totals.title.in_progress")}),type:"approved_totals",totalsPriceLabel:e("dvx.totals.approved_amount"),grandTotal:r.estimated_totals.grand_total,taxTotal:r.estimated_totals.tax_total,supplyFeesTotal:r.estimated_totals.supply_fee,discountType:"estimated_totals"})}),o&&(0,p.jsx)($a.ReviewRecs,{}),!o&&s&&(0,p.jsx)(u.Z,{ref:n,span:24,children:(0,p.jsx)(io,{signatureRequired:!0})}),(0,p.jsx)(Uo,{}),(0,p.jsx)(u.Z,{span:24,children:(0,p.jsx)(Vo,{})})]}):null},gs=function(){var e=W()[0].loading,t=oe().loading,r=m()[0],n=r.data,i=r.loading;return e||i||t?(0,p.jsx)(ut.Z,{active:!0}):n?(0,p.jsxs)(u.Z,{xs:24,id:"financials-section",children:["estimate"===n.state&&(0,p.jsx)(os,{}),"in_progress"===n.state&&(0,p.jsx)(js,{}),"invoice"===n.state&&(0,p.jsx)(ms,{})]}):null},ys={content:"iDvuUSLGNs7s_dDXiK0Y",column:"nZ2wg4YurUzXo3GY3LGQ",welcomeSection:"EEK0ae_oGAgZ7IeKtJea"},ws=c.Z.Content;var bs=function(){var e=(0,s.useRef)(),t=(0,p.jsx)(c.Z,{className:ys.layout,children:(0,p.jsxs)(ws,{className:ys.content,children:[(0,p.jsxs)(l.Z,{gutter:[{xs:0,lg:24},32],children:[(0,p.jsxs)(u.Z,{xs:24,lg:16,className:ys.column,ref:e,children:[(0,p.jsx)(l.Z,{className:ys.welcomeSection,children:(0,p.jsx)(mr,{mainColumnRef:e})}),(0,p.jsxs)(l.Z,{gutter:[0,24],children:[(0,p.jsx)(aa,{}),(0,p.jsx)(Ea,{})]})]}),(0,p.jsx)(u.Z,{xs:24,lg:8,className:ys.column,children:(0,p.jsx)(l.Z,{gutter:[0,24],children:(0,p.jsx)(ae,{children:(0,p.jsx)(gs,{})})})})]}),(0,p.jsx)(Ha,{})]})});return(0,p.jsx)(v,{children:(0,p.jsxs)(a.Z5,{children:[(0,p.jsx)(a.AW,{path:"/checkout",element:(0,p.jsx)(P,{children:(0,p.jsx)(lt,{})})}),(0,p.jsx)(a.AW,{path:"/",element:(0,p.jsx)(w,{children:(0,p.jsx)(M,{children:(0,p.jsx)(q,{children:(0,p.jsx)(J,{children:t})})})})})]})})},Zs=r(41036);r(74015);function _s(){n.render((0,p.jsx)(Zs.Z,{children:(0,p.jsx)(re.P,{children:(0,p.jsx)(o.y,{children:(0,p.jsx)(i.VK,{children:(0,p.jsx)(a.Z5,{children:(0,p.jsx)(a.AW,{path:"/work_orders/:workOrderId/*",element:(0,p.jsx)(bs,{})})})})})})}),document.getElementById("customer-app-container"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",_s):_s()}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[753,27,6,323,118,195,626,267,786,835,48,151,518,725,492,375,132,775],(function(){return t(97239),t(38008)}));e.O()}]);
//# sourceMappingURL=customer-app-dbb3ef02df78e37da536.js.map